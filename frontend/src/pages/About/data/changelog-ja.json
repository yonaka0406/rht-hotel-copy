{
  "entries": [    
    {
      "version": "0.1.0",
      "date": "2025-02-21",
      "changes": [
        { "type": "feature", "description": "カレンダー：予約カレンダーがプランごとに色分けされるようになりました（予約照会と同様）。" },
        { "type": "feature", "description": "予約編集：従業員宿泊インデックスを追加しました。" }
      ]
    },
    {
      "version": "0.2.0",
      "date": "2025-03-07",
      "changes": [
        { "type": "feature", "description": "予約カレンダー：ドラッグ＆ドロップ操作時の警告デザインを変更しました。" },
        { "type": "feature", "description": "予約カレンダー：日付・部屋番号のフォントサイズを大きくしました。" },
        { "type": "feature", "description": "日付選択：Primevue日本語表示と日付範囲分離。" },
        { "type": "feature", "description": "予約：確定済み予約でも部屋数の追加・削減が可能になりました。" },
        { "type": "user-request", "description": "予約編集：日付変更方法の一部対応。" }
      ]
    },
    {
      "version": "0.3.0",
      "date": "2025-03-11",
      "changes": [
        { "type": "feature", "description": "予約カレンダー：満室時の部屋移動（交換）機能を追加。" },
        { "type": "feature", "description": "予約カレンダー：グリッド線を追加。" },
        { "type": "feature", "description": "予約：滞在中の部屋変更をドラッグ＆ドロップで可能に。" },
        { "type": "feature", "description": "予約カレンダー：空室数表示を追加。" }
      ]
    },
    {
      "version": "0.4.0",
      "date": "2025-03-13",
      "changes": [
        { "type": "feature", "description": "出力：予約情報・詳細をCSVで出力可能に。" }
      ]
    },
    {
      "version": "0.5.0",
      "date": "2025-03-14",
      "changes": [
        { "type": "feature", "description": "予約編集：アドオン詳細をyadomaster同様に反映。" },
        { "type": "feature", "description": "予約編集：分割部屋移動の表示方法を変更。" },
        { "type": "feature", "description": "予約：キャンセル後の再有効化が可能に。" }
      ]
    },
    {
      "version": "0.6.0",
      "date": "2025-03-27",
      "changes": [
        { "type": "feature", "description": "新規予約：入力方法を変更。" }
      ]
    },
    {
      "version": "0.7.0",
      "date": "2025-03-28",
      "changes": [
        { "type": "user-request", "description": "予約履歴：更新履歴と担当者の表示（一部対応）。" }
      ]
    },
    {
      "version": "0.8.0",
      "date": "2025-03-31",
      "changes": [
        { "type": "feature", "description": "新規予約：チェックイン・チェックアウト日自動調整。" }
      ]
    },
    {
      "version": "0.9.0",
      "date": "2025-04-01",
      "changes": [
        { "type": "feature", "description": "アドオン：カテゴリ設定と食事数出力。" }
      ]
    },
    {
      "version": "0.9.1",
      "date": "2025-04-07",
      "changes": [
        { "type": "feature", "description": "新規予約：同内容の予約複製（未解決）。" },
        { "type": "feature", "description": "新規予約：プランパターン設定。" },
        { "type": "user-request", "description": "予約編集：予約期間変更時のプランパターン維持（一部対応）。" }
      ]
    },
    {
      "version": "0.9.2",
      "date": "2025-04-17",
      "changes": [
        { "type": "feature", "description": "予約編集：予約詳細でプラン色分け。" },
        { "type": "feature", "description": "顧客：電話番号・メールアドレスで選択可能に。" }
      ]
    },
    {
      "version": "0.9.3",
      "date": "2025-04-22",
      "changes": [
        { "type": "feature", "description": "予約カレンダー：一時未割当の空室移動。" },
        { "type": "feature", "description": "PMS API：Google SheetsとPMS連携による予約照会。" }
      ]
    },
    {
      "version": "0.9.4",
      "date": "2025-05-15",
      "changes": [
        { "type": "feature", "description": "通知：アラート通知の強調表示。" }
      ]
    },
    {
      "version": "0.9.5",
      "date": "2025-05-28",
      "changes": [
        { "type": "feature", "description": "機能：領収書発行。" }
      ]
    },
    {
      "version": "0.9.6",
      "date": "2025-06-10",
      "changes": [
        { "type": "feature", "description": "機能：領収書発行（0.9.5から継続）。" }
      ]
    },
    {
      "version": "1.0.0",
      "date": "2025-06-01",
      "changes": [
        { "type": "feature", "description": "予約管理システム - 直感的なカレンダーインターフェースによる完全な予約ライフサイクル管理" },
        { "type": "feature", "description": "顧客管理・CRM - コミュニケーション追跡機能付きの高度な顧客関係管理システム" },
        { "type": "feature", "description": "ウェイトリストシステム - 自動通知機能付きの包括的なゲスト待機リスト管理" },
        { "type": "feature", "description": "請求・請求書発行 - 柔軟な料金設定、プラン、アドオン、自動請求書生成機能" },
        { "type": "feature", "description": "レポート・分析 - 包括的な運営指標とビジネスインサイト機能" },
        { "type": "feature", "description": "ユーザー管理 - Google OAuth統合によるロールベースアクセス制御" },
        { "type": "feature", "description": "リアルタイム更新 - Socket.io統合によるライブ通知と更新機能" },
        { "type": "feature", "description": "データインポート・エクスポート - 各種データソース用のCSV・Excel対応" },
        { "type": "feature", "description": "メール通知 - nodemailerによる自動コミュニケーション機能" },
        { "type": "feature", "description": "日本語サポート - 完全な日本語テキスト処理・変換機能" },
        { "type": "feature", "description": "包括的ログ機能 - システム・監査証跡機能" },
        { "type": "feature", "description": "OTA統合 - オンライン旅行代理店とのXMLベース通信" },
        { "type": "improvement", "description": "データベース機能 - スキーマ進化用のバージョン管理SQLスクリプト（13個の移行ファイル）" },
        { "type": "improvement", "description": "データ集約 - レポートパフォーマンス用のマテリアライズドビューとサマリーテーブル" },
        { "type": "improvement", "description": "接続プーリング - コンテキスト対応プール選択による最適化されたデータベース接続" },
        { "type": "improvement", "description": "バックグラウンドジョブ - メンテナンスとデータ処理用のスケジュールタスク" },
        { "type": "improvement", "description": "PM2統合 - 本番環境プロセス管理" },
        { "type": "improvement", "description": "開発スクリプト - 開発・デプロイ用の包括的なnpmスクリプト" },
        { "type": "improvement", "description": "環境設定 - 柔軟な環境変数管理" },
        { "type": "improvement", "description": "コード品質 - ESLint設定と開発ガイドライン" },
        { "type": "feature", "description": "レスポンシブデザイン - モバイル対応インターフェース" },
        { "type": "feature", "description": "日本語UI - 完全な日本語言語インターフェース" },
        { "type": "feature", "description": "ロールベース権限 - 詳細なアクセス制御システム" },
        { "type": "feature", "description": "リアルタイム通知 - ライブ更新とシステムアラート" },
        { "type": "feature", "description": "Googleサービス統合 - OAuth認証とAPI統合" },
        { "type": "feature", "description": "決済処理 - セキュアな決済ゲートウェイ統合" },
        { "type": "feature", "description": "メールサービス - 自動通知用SMTP統合" },
        { "type": "feature", "description": "ファイル処理 - PuppeteerによるPDF生成、Sharpによる画像処理" }
      ]
    },
    {
      "version": "1.0.1",
      "date": "2025-06-11",
      "changes": [
        { "type": "bugfix", "description": "本番環境：アドオンが反映されない問題を修正。" },
        { "type": "bugfix", "description": "本番環境：カレンダースクロールでデータが表示されない問題を修正。" },
        { "type": "feature", "description": "本番環境：グローバルプランを非表示に。" },
        { "type": "feature", "description": "CRM：関連会社・関連工事タブを追加。" },
        { "type": "feature", "description": "CRM：ロイヤル顧客機能を追加。" },
        { "type": "user-request", "description": "本番環境：顧客名の表示順を変更（ユーザー要望）。" },
        { "type": "user-request", "description": "CRM：営業アクションの編集機能を追加（ユーザー要望）。" }
      ]
    },
    {
      "version": "1.0.2",
      "date": "2025-06-23",
      "changes": [
        { "type": "feature", "description": "予約：チェックインキャンセル機能を追加（ユーザー要望）。" }
      ]
    },
    {
      "version": "1.0.4",
      "date": "2025-07-17",
      "changes": [
        { "type": "feature", "description": "予約複製機能：別の予約者に予約を複製できるようになりました（内容はそのまま）。" },
        { "type": "bugfix", "description": "カレンダー：日付変更時にスクロール位置がトップにリセットされるよう修正。" },
        { "type": "improvement", "description": "カレンダー：部屋セルに区切り線を追加し視認性を向上。" },
        { "type": "improvement", "description": "ローマ字自動大文字化：全大文字入力（例：NTT）をそのまま保持。" },
        { "type": "bugfix", "description": "保留予約作成後、クライアントが即編集可能に。" },
        { "type": "bugfix", "description": "プラン・機関編集から追加したアドオンが即時反映されるよう修正。" },
        { "type": "improvement", "description": "食事数レポート：該当アドオンがない場合に明確なトーストメッセージを表示。" },
        { "type": "bugfix", "description": "食事アドオン数が全予約エクスポート・レポートで正しく集計されるよう修正。" },
        { "type": "improvement", "description": "チェックイン時に予約クライアントが不要に。" },
        { "type": "improvement", "description": "カレンダー：全アイコンの意味を説明する凡例を追加。" },
        { "type": "bugfix", "description": "保留中予約削除後、確認プロンプトが自動で閉じるよう修正。" }
      ]
    },
    {
      "version": "1.0.5",
      "date": "2025-07-23",
      "changes": [
        { "type": "bugfix", "description": "OTA予約がトランザクションで処理されるようになり、同時リクエスト時の重複登録を防止しました。" },
        { "type": "bugfix", "description": "アドオンの数量計算が予約全体人数ではなく部屋ごとの人数単位になり、複数部屋予約時の数量誤りを修正しました。" },
        { "type": "bugfix", "description": "PrimeVueのConfirmDialogが追加・削除後に正しく閉じるようになりました（Bug #12）。" },
        { "type": "feature", "description": "グローバル予約検索機能をトップメニューに追加。" },
        { "type": "design", "description": "予約一覧のデザインを一部変更。" }
      ]
    },
    {
      "version": "1.0.6",
      "date": "2025-07-28",
      "changes": [
        { "type": "bugfix", "description": "フロントエンド：プラン料金の計算が正しく表示されない問題を修正しました。" },
        { "type": "bugfix", "description": "予約カレンダー：フリームーブ操作後にチェックイン・チェックアウト日が更新されない問題を修正しました。" },
        { "type": "improvement", "description": "ビルドプロセス：メモリ制限のあるVPS環境向けにViteビルド設定を最適化（minification無効化、ソースマップ無効化、スマートチャンキング実装、ES2015ターゲット指定によるメモリ使用量削減）。" }
      ]
    },
    {
      "version": "1.0.7",
      "date": "2025-07-29",
      "changes": [
        { "type": "bugfix", "description": "予約管理：'確定に戻す'ボタンが反応しない問題を修正し、チェックイン済みから確定状態に戻せるようにしました。（Bug #14）" },
        { "type": "bugfix", "description": "予約カレンダー：スクロールバーが消える問題を修正し、必要なときに常に表示されるようにしました。（Bug #18）" },
        { "type": "bugfix", "description": "従業員予約：プラン/価格なしで予約を確定できない問題を修正し、予約タイプの変更制限を実装しました。（Bug #17）" },
        { "type": "bugfix", "description": "ルームインジケーター：キャンセル済み予約が表示される問題を修正し、キャンセル済み予約のみの部屋は空室として表示されるようにしました。（Bug #19）" },
        { "type": "improvement", "description": "権限エラー（403）時に日本語のトースト通知を表示するようにし、ユーザーへのフィードバックを改善しました。" },
        { "type": "feature", "description": "従業員予約：プラン/価格なしでの予約をサポートし、UIでの視覚的区別とタイプ変更時の確認ダイアログを追加しました。" }
      ]
    },
    {
      "version": "1.1.0",
      "date": "2025-08-04",
      "changes": [        
        { "type": "feature", "description": "OTAキュー作成、OTA取引が失敗した際に、通知ドロワーへ表示されるようになりました。" },
        { "type": "feature", "description": "予約照会ボタン：Google スプレッドシートへのリンクをホテルごとに設定可能に" },
        { "type": "feature", "description": "ホテル表示順を設定可能にし、管理画面で順序を編集できるようになりました。" },
        { "type": "feature", "description": "カレンダー：一時的な部屋ブロック機能を追加し、部屋の確保を迅速化" },
        { "type": "ui", "description": "予約カレンダーのモードを「予約移動」から「デフォルト」に名称変更し、分かりやすく改善" },
        { "type": "refactor", "description": "クライアント予約ダイアログをコンポーネント化し、コードの保守性と再利用性を向上" }        
      ]
    },
    {
      "version": "1.1.1",
      "date": "2025-08-12",
      "changes": [
        { "type": "bugfix", "description": "プラン選択なしでアドオンを追加できない問題を修正しました。プランが選択されていない場合もアドオンを追加できるようになりました。（バグ #22）" },
        { "type": "feature", "description": "管理画面にOTAキュー一覧を表示する機能を追加しました。" },
        { "type": "bugfix", "description": "既存の予約に新しい部屋を追加する際に、課金ステータスも正しくコピーされるようになりました。" },
        { "type": "bugfix", "description": "サイドメニューのGoogle Driveリンクが「ページが見つかりません」に遷移する問題を修正しました。" },
        { "type": "bugfix", "description": "トップメニューとサイドメニューでホテル選択が維持されない問題を修正しました。localStorageを使用して選択状態を保持するよう改善しました。" }
      ]
    },
    {
      "version": "1.1.2",
      "date": "2025-08-14",
      "changes": [
        { "type": "feature", "description": "JWTトークン検証を強化し、一時的なネットワークエラーによる誤ったログアウトを防止しました。認証固有のエラー（401/403）の場合のみトークンをクリアするようになりました。" },
        { "type": "feature", "description": "仮ブロック機能のアクセス制御を更新し、データベース管理者だけでなくCRUD権限を持つ全ユーザーが利用できるようになりました。" },
        { "type": "feature", "description": "カレンダーでOTA予約の際に、予約者名ではなく実際の宿泊客名が表示されるよう改善しました。これにより、スタッフが宿泊客を素早く特定しやすくなりました。（機能 #17）" },
        { "type": "feature", "description": "予約一覧からエクスポートするデータにコメント列を追加し、より包括的なデータをエクスポートできるようになりました。" },
        { "type": "feature", "description": "駐車場管理システムを追加し、リアルタイムの空き状況確認と予約への割り当てが可能になりました。（機能 #18）" },
        { "type": "bugfix", "description": "同じ部屋と日付に対して重複する予約詳細が作成される問題を修正しました。NULL値を許容する`cancelled`カラムを含む一意制約を削除し、適切なインデックスとトランザクション処理を実装しました。（バグ #35）" },
        { "type": "bugfix", "description": "ルームインジケーターで「現在宿泊中」ステータスがチェックイン予定日ではなく実際のチェックイン後にのみ表示されるよう修正しました。（バグ #32）" },
        { "type": "bugfix", "description": "複数泊の予約で、部屋ごとの宿泊者数が日によって異なって表示される問題を修正しました。「計算してから作成」パターンを導入し、すべての宿泊日で一貫した人数が表示されるよう改善しました。（バグ #34）" },
        { "type": "bugfix", "description": "otaRoomMaster.vueで単一の部屋タイプを処理する際に発生していたXMLパースエラーを修正しました。" }        
      ]
    },
    {
      "version": "1.1.3",
      "date": "2025-08-15",
      "changes": [
        { "type": "feature", "description": "請求書の氏名表示を姓名（漢字）→ 姓名（カナ）→ 姓名（ローマ字）の順に変更しました。" },
        { "type": "feature", "description": "領収書に部屋番号と宿泊期間（チェックイン〜チェックアウト）を追加し、より詳細な情報を提供できるようになりました。" },
        { "type": "feature", "description": "ルームインジケーターでプラン名を予約詳細から直接取得するように変更し、表示の一貫性を向上させました。" },
        { "type": "feature", "description": "予約詳細エクスポート機能を強化し、より詳細な情報をエクスポートできるようになりました。" },
        { "type": "bugfix", "description": "ダッシュボードのプラン・オプション一覧がAPIデータを正しく表示するように修正しました。" },
        { "type": "bugfix", "description": "空室がない場合に0%を正しく表示するよう稼働率グラフを修正しました。" },
        { "type": "bugfix", "description": "プラン変更時にオプションが残り続ける問題を修正しました。" },
        { "type": "bugfix", "description": "駐車場割り当て時のオプション詳細とユーザー追跡を適切に処理するよう修正しました。" },
        { "type": "bugfix", "description": "一部キャンセル後のチェックイン/チェックアウト日が更新されない問題を修正しました。有効な予約詳細から日付範囲を再計算するよう改善しました。（バグ #35）" },
        { "type": "bugfix", "description": "社員用予約が食事カウントレポートに含まれない問題を修正しました。ステータスを'確定'に設定するよう変更しました。" },
        { "type": "bugfix", "description": "予約のキャンセルと復元ロジックをトランザクション対応させ、データの整合性を確保するよう改善しました。" },
        { "type": "bugfix", "description": "駐車場予約の更新を予約ステータス変更と同じトランザクション内で処理するよう修正し、データ不整合を防止しました。" }
      ]
    },
    {
      "version": "1.1.4",
      "date": "2025-08-20",
      "changes": [
        { "type": "feature", "description": "クライアントと部屋ごとの食事カウントを表示する専用シートを追加し、レポート機能を強化しました。（機能 #28）" },
        { "type": "bugfix", "description": "社員用予約のタイプ変更時にbillable=falseが正しく設定されるよう修正し、財務報告の正確性を確保しました。" },
        { "type": "bugfix", "description": "一括追加機能でオプションが正しく選択されない問題を修正し、各ルームに正しいオプションが割り当てられるようになりました。（バグ #37）" },
        { "type": "bugfix", "description": "販売関連の全ページとエクスポートで、事前計算済みの値と一貫性を保つため、料金をreservation_detailsから直接表示するよう更新しました。（バグ #41）" },
        { "type": "bugfix", "description": "100円単位での一貫した丸め処理を実装し、reservation_detailsの事前計算済み値を使用するよう料金計算ロジックを最適化しました。（バグ #39）" },
        { "type": "bugfix", "description": "複数部屋の予約で部屋の日付を編集する際の不整合な動作を修正し、異なる日付の部屋が適切に新しい予約に移動されるようになりました。（バグ #13）" },
        { "type": "bugfix", "description": "トランザクション処理エラーにより部屋削除が失敗する重大な本番環境の問題を解決しました。（バグ #33）" },
        { "type": "ui", "description": "社員用や無償宿泊などの非課金宿泊を視覚的に識別しやすくするため、全予約ビューで視覚的インジケーターを強化しました。" },
        { "type": "ui", "description": "Google Drive連携を更新し、OTAやWeb予約のクライアント名を適切に処理し、利用可能な場合はreservation_clientsからゲスト名を表示するよう改善しました。" }
      ]
    }
  ],
  "backlog": [
    { "description": "通知：アラート通知設定（例：大口予約受注後1ヶ月後のアラート等）。" },
    { "description": "新規予約：緊急部屋ホールド・保留ステータス。" },
    { "description": "CRM：アップロード方式によるデータ記録。" },
    { "description": "CRM：営業クール実績レポート。" },
    { "description": "部屋タイプ階層を導入し、OTA予約のアップグレード判定とインポートロジック（XML→PMS変換、一時テーブル・キャッシュ・未インポート通知・OTA確認成功時のみキャッシュクリア）を改善。" },
    { "description": "予約カレンダー：フリームーブ時に部屋タイプが変更される場合、変更内容を確認するプロンプトを表示。" },
    { "description": "店舗スタッフ向けダッシュボード：必要な情報のみを表示する専用ページを作成（入退室予定の顧客・部屋情報など）。" },
    { "description": "カレンダービュー：部屋移動可能な顧客と部屋タイプの希望がない顧客を視覚的に識別するためのインジケーターを追加。" },
    { "description": "予約パネルからクライアントにFAXを送信する機能を追加（メール経由）。" },
    { "description": "プラン表示順とカテゴリ：プランの表示順を設定可能にし、施設のドロップダウン順を設定可能に。グローバルプランカテゴリを実装し、ホテルプランを部屋タイプごとに整理。" },
    { "description": "Google Driveスプレッドシートへの予約照会用ボタンを追加（予約編集ページと予約カレンダーページに配置）。ホテルごとにGoogle Driveリンクを設定可能に。" },
    { "description": "OTA予約のカレンダー表示を予約者名から宿泊者名に変更。複数名宿泊時の表示方法を検討。" }    
  ]
}