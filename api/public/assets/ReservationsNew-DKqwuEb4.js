import{B as dt,l as ge,U as Te,Z as Oe,ao as fe,p as ne,H as ct,N as pt,O as ft,P as mt,Q as ht,S as vt,V as bt,k as yt,ak as Ae,v as gt,W as Ot,R as wt,b as O,x as _t,o as v,c as _,A as ee,n as $,al as kt,e as H,m as E,F as le,y as re,r as J,a as s,w as f,d as a,C as It,t as z,T as Dt,a1 as Ct,f as W,z as St,I,_ as Be,u as ze,a5 as me,J as Ne,a6 as R,ap as ye}from"./index-D1uxBxpa.js";import{a as Ue,u as xt}from"./useHotelStore-CcnjKFIZ.js";import{s as je}from"./index-4M-XO5NK.js";import{s as Vt}from"./index-QDYjf4BC.js";import{s as Ge,a as He,b as We,c as qe,e as Mt}from"./index-BIeAlUJT.js";import{s as Lt,a as Tt,b as At,c as Rt,d as Pt}from"./index-Jjwa5XCy.js";import{s as Et,a as Ft,b as Kt,c as Bt}from"./index-CkOVRJJ4.js";import{s as Ze}from"./index-7jlECg0w.js";import{c as zt,s as Je}from"./index-SJxkweTD.js";import{a as Nt,s as Ut}from"./index-CBYPfZAM.js";import{b as jt,s as Qe}from"./index-CZva3LPW.js";import{u as Gt}from"./useClientStore-B-tNQOLN.js";import{s as Ht}from"./index-BeoBpIal.js";import{s as Ye,a as Wt}from"./index-B_dfm8Z3.js";import{s as qt}from"./index-DU-Aobhb.js";import{O as Zt}from"./index-UcX-Yj_6.js";import{s as Jt}from"./index-D_iDgPrv.js";import"./index-BRLBpJjm.js";import"./index-OFUA_Emm.js";import"./index-Dgpi_Il-.js";import"./index-8v2gNDOB.js";var Qt=function(e){var o=e.dt;return`
.p-autocomplete {
    display: inline-flex;
}

.p-autocomplete-loader {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    inset-inline-end: `.concat(o("autocomplete.padding.x"),`;
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-loader {
    inset-inline-end: calc(`).concat(o("autocomplete.dropdown.width")," + ").concat(o("autocomplete.padding.x"),`);
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input {
    flex: 1 1 auto;
    width: 1%;
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input,
.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input-multiple {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
}

.p-autocomplete-dropdown {
    cursor: pointer;
    display: inline-flex;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: `).concat(o("autocomplete.dropdown.width"),`;
    border-start-end-radius: `).concat(o("autocomplete.dropdown.border.radius"),`;
    border-end-end-radius: `).concat(o("autocomplete.dropdown.border.radius"),`;
    background: `).concat(o("autocomplete.dropdown.background"),`;
    border: 1px solid `).concat(o("autocomplete.dropdown.border.color"),`;
    border-inline-start: 0 none;
    color: `).concat(o("autocomplete.dropdown.color"),`;
    transition: background `).concat(o("autocomplete.transition.duration"),", color ").concat(o("autocomplete.transition.duration"),", border-color ").concat(o("autocomplete.transition.duration"),", outline-color ").concat(o("autocomplete.transition.duration"),", box-shadow ").concat(o("autocomplete.transition.duration"),`;
    outline-color: transparent;
}

.p-autocomplete-dropdown:not(:disabled):hover {
    background: `).concat(o("autocomplete.dropdown.hover.background"),`;
    border-color: `).concat(o("autocomplete.dropdown.hover.border.color"),`;
    color: `).concat(o("autocomplete.dropdown.hover.color"),`;
}

.p-autocomplete-dropdown:not(:disabled):active {
    background: `).concat(o("autocomplete.dropdown.active.background"),`;
    border-color: `).concat(o("autocomplete.dropdown.active.border.color"),`;
    color: `).concat(o("autocomplete.dropdown.active.color"),`;
}

.p-autocomplete-dropdown:focus-visible {
    box-shadow: `).concat(o("autocomplete.dropdown.focus.ring.shadow"),`;
    outline: `).concat(o("autocomplete.dropdown.focus.ring.width")," ").concat(o("autocomplete.dropdown.focus.ring.style")," ").concat(o("autocomplete.dropdown.focus.ring.color"),`;
    outline-offset: `).concat(o("autocomplete.dropdown.focus.ring.offset"),`;
}

.p-autocomplete .p-autocomplete-overlay {
    min-width: 100%;
}

.p-autocomplete-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: `).concat(o("autocomplete.overlay.background"),`;
    color: `).concat(o("autocomplete.overlay.color"),`;
    border: 1px solid `).concat(o("autocomplete.overlay.border.color"),`;
    border-radius: `).concat(o("autocomplete.overlay.border.radius"),`;
    box-shadow: `).concat(o("autocomplete.overlay.shadow"),`;
}

.p-autocomplete-list-container {
    overflow: auto;
}

.p-autocomplete-list {
    margin: 0;
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: `).concat(o("autocomplete.list.gap"),`;
    padding: `).concat(o("autocomplete.list.padding"),`;
}

.p-autocomplete-option {
    cursor: pointer;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: `).concat(o("autocomplete.option.padding"),`;
    border: 0 none;
    color: `).concat(o("autocomplete.option.color"),`;
    background: transparent;
    transition: background `).concat(o("autocomplete.transition.duration"),", color ").concat(o("autocomplete.transition.duration"),", border-color ").concat(o("autocomplete.transition.duration"),`;
    border-radius: `).concat(o("autocomplete.option.border.radius"),`;
}

.p-autocomplete-option:not(.p-autocomplete-option-selected):not(.p-disabled).p-focus {
    background: `).concat(o("autocomplete.option.focus.background"),`;
    color: `).concat(o("autocomplete.option.focus.color"),`;
}

.p-autocomplete-option-selected {
    background: `).concat(o("autocomplete.option.selected.background"),`;
    color: `).concat(o("autocomplete.option.selected.color"),`;
}

.p-autocomplete-option-selected.p-focus {
    background: `).concat(o("autocomplete.option.selected.focus.background"),`;
    color: `).concat(o("autocomplete.option.selected.focus.color"),`;
}

.p-autocomplete-option-group {
    margin: 0;
    padding: `).concat(o("autocomplete.option.group.padding"),`;
    color: `).concat(o("autocomplete.option.group.color"),`;
    background: `).concat(o("autocomplete.option.group.background"),`;
    font-weight: `).concat(o("autocomplete.option.group.font.weight"),`;
}

.p-autocomplete-input-multiple {
    margin: 0;
    list-style-type: none;
    cursor: text;
    overflow: hidden;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    padding: calc(`).concat(o("autocomplete.padding.y")," / 2) ").concat(o("autocomplete.padding.x"),`;
    gap: calc(`).concat(o("autocomplete.padding.y"),` / 2);
    color: `).concat(o("autocomplete.color"),`;
    background: `).concat(o("autocomplete.background"),`;
    border: 1px solid `).concat(o("autocomplete.border.color"),`;
    border-radius: `).concat(o("autocomplete.border.radius"),`;
    width: 100%;
    transition: background `).concat(o("autocomplete.transition.duration"),", color ").concat(o("autocomplete.transition.duration"),", border-color ").concat(o("autocomplete.transition.duration"),", outline-color ").concat(o("autocomplete.transition.duration"),", box-shadow ").concat(o("autocomplete.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(o("autocomplete.shadow"),`;
}

.p-autocomplete:not(.p-disabled):hover .p-autocomplete-input-multiple {
    border-color: `).concat(o("autocomplete.hover.border.color"),`;
}

.p-autocomplete:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
    border-color: `).concat(o("autocomplete.focus.border.color"),`;
    box-shadow: `).concat(o("autocomplete.focus.ring.shadow"),`;
    outline: `).concat(o("autocomplete.focus.ring.width")," ").concat(o("autocomplete.focus.ring.style")," ").concat(o("autocomplete.focus.ring.color"),`;
    outline-offset: `).concat(o("autocomplete.focus.ring.offset"),`;
}

.p-autocomplete.p-invalid .p-autocomplete-input-multiple {
    border-color: `).concat(o("autocomplete.invalid.border.color"),`;
}

.p-variant-filled.p-autocomplete-input-multiple {
    background: `).concat(o("autocomplete.filled.background"),`;
}

.p-autocomplete:not(.p-disabled):hover .p-variant-filled.p-autocomplete-input-multiple {
    background: `).concat(o("autocomplete.filled.hover.background"),`;
}

.p-autocomplete:not(.p-disabled).p-focus .p-variant-filled.p-autocomplete-input-multiple  {
    background: `).concat(o("autocomplete.filled.focus.background"),`;
}

.p-autocomplete.p-disabled .p-autocomplete-input-multiple {
    opacity: 1;
    background: `).concat(o("autocomplete.disabled.background"),`;
    color: `).concat(o("autocomplete.disabled.color"),`;
}

.p-autocomplete-chip.p-chip {
    padding-block-start: calc(`).concat(o("autocomplete.padding.y"),` / 2);
    padding-block-end: calc(`).concat(o("autocomplete.padding.y"),` / 2);
    border-radius: `).concat(o("autocomplete.chip.border.radius"),`;
}

.p-autocomplete-input-multiple:has(.p-autocomplete-chip) {
    padding-inline-start: calc(`).concat(o("autocomplete.padding.y"),` / 2);
    padding-inline-end: calc(`).concat(o("autocomplete.padding.y"),` / 2);
}

.p-autocomplete-chip-item.p-focus .p-autocomplete-chip {
    background: `).concat(o("autocomplete.chip.focus.background"),`;
    color: `).concat(o("autocomplete.chip.focus.color"),`;
}

.p-autocomplete-input-chip {
    flex: 1 1 auto;
    display: inline-flex;
    padding-block-start: calc(`).concat(o("autocomplete.padding.y"),` / 2);
    padding-block-end: calc(`).concat(o("autocomplete.padding.y"),` / 2);
}

.p-autocomplete-input-chip input {
    border: 0 none;
    outline: 0 none;
    background: transparent;
    margin: 0;
    padding: 0;
    box-shadow: none;
    border-radius: 0;
    width: 100%;
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: inherit;
}

.p-autocomplete-input-chip input::placeholder {
    color: `).concat(o("autocomplete.placeholder.color"),`;
}

.p-autocomplete.p-invalid .p-autocomplete-input-chip input::placeholder {
    color: `).concat(o("autocomplete.invalid.placeholder.color"),`;
}

.p-autocomplete-empty-message {
    padding: `).concat(o("autocomplete.empty.message.padding"),`;
}

.p-autocomplete-fluid {
    display: flex;
}

.p-autocomplete-fluid:has(.p-autocomplete-dropdown) .p-autocomplete-input {
    width: 1%;
}

.p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown {
    width: `).concat(o("autocomplete.dropdown.sm.width"),`;
}

.p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown .p-icon {
    font-size: `).concat(o("form.field.sm.font.size"),`;
    width: `).concat(o("form.field.sm.font.size"),`;
    height: `).concat(o("form.field.sm.font.size"),`;
}

.p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown {
    width: `).concat(o("autocomplete.dropdown.lg.width"),`;
}

.p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown .p-icon {
    font-size: `).concat(o("form.field.lg.font.size"),`;
    width: `).concat(o("form.field.lg.font.size"),`;
    height: `).concat(o("form.field.lg.font.size"),`;
}
`)},Yt={root:{position:"relative"}},Xt={root:function(e){var o=e.instance,n=e.props;return["p-autocomplete p-component p-inputwrapper",{"p-disabled":n.disabled,"p-invalid":o.$invalid,"p-focus":o.focused,"p-inputwrapper-filled":o.$filled||ge(o.inputValue),"p-inputwrapper-focus":o.focused,"p-autocomplete-open":o.overlayVisible,"p-autocomplete-fluid":o.$fluid}]},pcInputText:"p-autocomplete-input",inputMultiple:function(e){e.props;var o=e.instance;return["p-autocomplete-input-multiple",{"p-variant-filled":o.$variant==="filled"}]},chipItem:function(e){var o=e.instance,n=e.i;return["p-autocomplete-chip-item",{"p-focus":o.focusedMultipleOptionIndex===n}]},pcChip:"p-autocomplete-chip",chipIcon:"p-autocomplete-chip-icon",inputChip:"p-autocomplete-input-chip",loader:"p-autocomplete-loader",dropdown:"p-autocomplete-dropdown",overlay:"p-autocomplete-overlay p-component",listContainer:"p-autocomplete-list-container",list:"p-autocomplete-list",optionGroup:"p-autocomplete-option-group",option:function(e){var o=e.instance,n=e.option,p=e.i,l=e.getItemOptions;return["p-autocomplete-option",{"p-autocomplete-option-selected":o.isSelected(n),"p-focus":o.focusedOptionIndex===o.getOptionIndex(p,l),"p-disabled":o.isOptionDisabled(n)}]},emptyMessage:"p-autocomplete-empty-message"},$t=dt.extend({name:"autocomplete",theme:Qt,classes:Xt,inlineStyles:Yt}),eo={name:"BaseAutoComplete",extends:Wt,props:{suggestions:{type:Array,default:null},optionLabel:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"14rem"},dropdown:{type:Boolean,default:!1},dropdownMode:{type:String,default:"blank"},multiple:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},placeholder:{type:String,default:null},dataKey:{type:String,default:null},minLength:{type:Number,default:1},delay:{type:Number,default:300},appendTo:{type:[String,Object],default:"body"},forceSelection:{type:Boolean,default:!1},completeOnFocus:{type:Boolean,default:!1},inputId:{type:String,default:null},inputStyle:{type:Object,default:null},inputClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},dropdownIcon:{type:String,default:null},dropdownClass:{type:[String,Object],default:null},loader:{type:String,default:null},loadingIcon:{type:String,default:null},removeTokenIcon:{type:String,default:null},chipIcon:{type:String,default:null},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},searchLocale:{type:String,default:void 0},searchMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptySearchMessage:{type:String,default:null},showEmptyMessage:{type:Boolean,default:!0},tabindex:{type:Number,default:0},typeahead:{type:Boolean,default:!0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:$t,provide:function(){return{$pcAutoComplete:this,$parentInstance:this}}};function we(t){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(t)}function Re(t){return lo(t)||no(t)||oo(t)||to()}function to(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oo(t,e){if(t){if(typeof t=="string")return _e(t,e);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_e(t,e):void 0}}function no(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lo(t){if(Array.isArray(t))return _e(t)}function _e(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}var Xe={name:"AutoComplete",extends:eo,inheritAttrs:!1,emits:["change","focus","blur","item-select","item-unselect","option-select","option-unselect","dropdown-click","clear","complete","before-show","before-hide","show","hide"],inject:{$pcFluid:{default:null}},outsideClickListener:null,resizeListener:null,scrollHandler:null,overlay:null,virtualScroller:null,searchTimeout:null,dirty:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,focusedMultipleOptionIndex:-1,overlayVisible:!1,searching:!1}},watch:{"$attrs.id":function(e){this.id=e||Te()},suggestions:function(){this.searching&&(this.show(),this.focusedOptionIndex=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.searching=!1,!this.showEmptyMessage&&this.visibleOptions.length===0&&this.hide()),this.autoUpdateModel()}},mounted:function(){this.id=this.id||Te(),this.autoUpdateModel()},updated:function(){this.overlayVisible&&this.alignOverlay()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Oe.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,o){return this.virtualScrollerDisabled?e:o&&o(e).index},getOptionLabel:function(e){return this.optionLabel?fe(e,this.optionLabel):e},getOptionValue:function(e){return e},getOptionRenderKey:function(e,o){return(this.dataKey?fe(e,this.dataKey):this.getOptionLabel(e))+"_"+o},getPTOptions:function(e,o,n,p){return this.ptm(p,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(n,o),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?fe(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return fe(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return fe(e,this.optionGroupChildren)},getAriaPosInset:function(e){var o=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(n){return o.isOptionGroup(n)}).length:e)+1},show:function(e){this.$emit("before-show"),this.dirty=!0,this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,e&&ne(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},hide:function(e){var o=this,n=function(){var l;o.$emit("before-hide"),o.dirty=e,o.overlayVisible=!1,o.clicked=!1,o.focusedOptionIndex=-1,e&&ne(o.multiple?o.$refs.focusInput:(l=o.$refs.focusInput)===null||l===void 0?void 0:l.$el)};setTimeout(function(){n()},0)},onFocus:function(e){this.disabled||(!this.dirty&&this.completeOnFocus&&this.search(e,e.target.value,"focus"),this.dirty=!0,this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){var o,n;this.dirty=!1,this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e),(o=(n=this.formField).onBlur)===null||o===void 0||o.call(n)},onKeyDown:function(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break}this.clicked=!1},onInput:function(e){var o=this;if(this.typeahead){this.searchTimeout&&clearTimeout(this.searchTimeout);var n=e.target.value;this.multiple||this.updateModel(e,n),n.length===0?(this.hide(),this.$emit("clear")):n.length>=this.minLength?(this.focusedOptionIndex=-1,this.searchTimeout=setTimeout(function(){o.search(e,n,"input")},this.delay)):this.hide()}},onChange:function(e){var o=this;if(this.forceSelection){var n=!1;if(this.visibleOptions&&!this.multiple){var p=this.multiple?this.$refs.focusInput.value:this.$refs.focusInput.$el.value,l=this.visibleOptions.find(function(A){return o.isOptionMatched(A,p||"")});l!==void 0&&(n=!0,!this.isSelected(l)&&this.onOptionSelect(e,l))}n||(this.multiple?this.$refs.focusInput.value="":this.$refs.focusInput.$el.value="",this.$emit("clear"),!this.multiple&&this.updateModel(e,null))}},onMultipleContainerFocus:function(){this.disabled||(this.focused=!0)},onMultipleContainerBlur:function(){this.focusedMultipleOptionIndex=-1,this.focused=!1},onMultipleContainerKeyDown:function(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break}},onContainerClick:function(e){this.clicked=!0,!(this.disabled||this.searching||this.loading||this.isDropdownClicked(e))&&(!this.overlay||!this.overlay.contains(e.target))&&ne(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},onDropdownClick:function(e){var o=void 0;if(this.overlayVisible)this.hide(!0);else{var n=this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el;ne(n),o=n.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,o,"dropdown")}this.$emit("dropdown-click",{originalEvent:e,query:o})},onOptionSelect:function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=this.getOptionValue(o);this.multiple?(this.$refs.focusInput.value="",this.isSelected(o)||this.updateModel(e,[].concat(Re(this.d_value||[]),[p]))):this.updateModel(e,p),this.$emit("item-select",{originalEvent:e,value:o}),this.$emit("option-select",{originalEvent:e,value:o}),n&&this.hide(!0)},onOptionMouseMove:function(e,o){this.focusOnHover&&this.changeFocusedOptionIndex(e,o)},onOverlayClick:function(e){Zt.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(this.overlayVisible){var o=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,o),e.preventDefault()}},onArrowUpKey:function(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var o=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,o),e.preventDefault()}},onArrowLeftKey:function(e){var o=e.currentTarget;this.focusedOptionIndex=-1,this.multiple&&(ct(o.value)&&this.$filled?(ne(this.$refs.multiContainer),this.focusedMultipleOptionIndex=this.d_value.length):e.stopPropagation())},onArrowRightKey:function(e){this.focusedOptionIndex=-1,this.multiple&&e.stopPropagation()},onHomeKey:function(e){var o=e.currentTarget,n=o.value.length;o.setSelectionRange(0,e.shiftKey?n:0),this.focusedOptionIndex=-1,e.preventDefault()},onEndKey:function(e){var o=e.currentTarget,n=o.value.length;o.setSelectionRange(e.shiftKey?0:n,n),this.focusedOptionIndex=-1,e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.typeahead?this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)):this.multiple&&(this.updateModel(e,[].concat(Re(this.d_value||[]),[e.target.value])),this.$refs.focusInput.value=""),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide()},onBackspaceKey:function(e){if(this.multiple){if(ge(this.d_value)&&!this.$refs.focusInput.value){var o=this.d_value[this.d_value.length-1],n=this.d_value.slice(0,-1);this.writeValue(n,e),this.$emit("item-unselect",{originalEvent:e,value:o}),this.$emit("option-unselect",{originalEvent:e,value:o})}e.stopPropagation()}},onArrowLeftKeyOnMultiple:function(){this.focusedMultipleOptionIndex=this.focusedMultipleOptionIndex<1?0:this.focusedMultipleOptionIndex-1},onArrowRightKeyOnMultiple:function(){this.focusedMultipleOptionIndex++,this.focusedMultipleOptionIndex>this.d_value.length-1&&(this.focusedMultipleOptionIndex=-1,ne(this.$refs.focusInput))},onBackspaceKeyOnMultiple:function(e){this.focusedMultipleOptionIndex!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex)},onOverlayEnter:function(e){Oe.set("overlay",e,this.$primevue.config.zIndex.overlay),pt(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay()},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Oe.clear(e)},alignOverlay:function(){var e=this.multiple?this.$refs.multiContainer:this.$refs.focusInput.$el;this.appendTo==="self"?ft(this.overlay,e):(this.overlay.style.minWidth=mt(e)+"px",ht(this.overlay,e))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(o){e.overlayVisible&&e.overlay&&e.isOutsideClicked(o)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new vt(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!bt()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!this.overlay.contains(e.target)&&!this.isInputClicked(e)&&!this.isDropdownClicked(e)},isInputClicked:function(e){return this.multiple?e.target===this.$refs.multiContainer||this.$refs.multiContainer.contains(e.target):e.target===this.$refs.focusInput.$el},isDropdownClicked:function(e){return this.$refs.dropdownButton?e.target===this.$refs.dropdownButton||this.$refs.dropdownButton.contains(e.target):!1},isOptionMatched:function(e,o){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.searchLocale))===o.toLocaleLowerCase(this.searchLocale)},isValidOption:function(e){return ge(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,o){return yt(e,o,this.equalityKey)},isSelected:function(e){var o=this,n=this.getOptionValue(e);return this.multiple?(this.d_value||[]).some(function(p){return o.isEquals(p,n)}):this.isEquals(this.d_value,this.getOptionValue(e))},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(o){return e.isValidOption(o)})},findLastOptionIndex:function(){var e=this;return Ae(this.visibleOptions,function(o){return e.isValidOption(o)})},findNextOptionIndex:function(e){var o=this,n=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(p){return o.isValidOption(p)}):-1;return n>-1?n+e+1:e},findPrevOptionIndex:function(e){var o=this,n=e>0?Ae(this.visibleOptions.slice(0,e),function(p){return o.isValidOption(p)}):-1;return n>-1?n:e},findSelectedOptionIndex:function(){var e=this;return this.$filled?this.visibleOptions.findIndex(function(o){return e.isValidSelectedOption(o)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},search:function(e,o,n){o!=null&&(n==="input"&&o.trim().length===0||(this.searching=!0,this.$emit("complete",{originalEvent:e,query:o})))},removeOption:function(e,o){var n=this,p=this.d_value[o],l=this.d_value.filter(function(A,F){return F!==o}).map(function(A){return n.getOptionValue(A)});this.updateModel(e,l),this.$emit("item-unselect",{originalEvent:e,value:p}),this.$emit("option-unselect",{originalEvent:e,value:p}),this.dirty=!0,ne(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},changeFocusedOptionIndex:function(e,o){this.focusedOptionIndex!==o&&(this.focusedOptionIndex=o,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[o],!1))},scrollInView:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var n=o!==-1?"".concat(e.id,"_").concat(o):e.focusedOptionId,p=gt(e.list,'li[id="'.concat(n,'"]'));p?p.scrollIntoView&&p.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(o!==-1?o:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.$filled&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,o){this.writeValue(o,e),this.$emit("change",{originalEvent:e,value:o})},flatOptions:function(e){var o=this;return(e||[]).reduce(function(n,p,l){n.push({optionGroup:p,group:!0,index:l});var A=o.getOptionGroupChildren(p);return A&&A.forEach(function(F){return n.push(F)}),n},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,o){this.list=e,o&&o(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){return this.optionGroupLabel?this.flatOptions(this.suggestions):this.suggestions||[]},inputValue:function(){if(this.$filled)if(we(this.d_value)==="object"){var e=this.getOptionLabel(this.d_value);return e??this.d_value}else return this.d_value;else return""},hasSelectedOption:function(){return this.$filled},equalityKey:function(){return this.dataKey},searchResultMessageText:function(){return ge(this.visibleOptions)&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptySearchMessageText},searchMessageText:function(){return this.searchMessage||this.$primevue.config.locale.searchMessage||""},emptySearchMessageText:function(){return this.emptySearchMessage||this.$primevue.config.locale.emptySearchMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll("{0}",this.multiple?this.d_value.length:"1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},focusedMultipleOptionId:function(){return this.focusedMultipleOptionIndex!==-1?"".concat(this.id,"_multiple_option_").concat(this.focusedMultipleOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(o){return!e.isOptionGroup(o)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},panelId:function(){return this.id+"_panel"}},components:{InputText:Ye,VirtualScroller:zt,Portal:Ot,ChevronDownIcon:qt,SpinnerIcon:jt,Chip:Nt},directives:{ripple:wt}};function he(t){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(t)}function Pe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),o.push.apply(o,n)}return o}function Ee(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Pe(Object(o),!0).forEach(function(n){io(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Pe(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function io(t,e,o){return(e=ao(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function ao(t){var e=so(t,"string");return he(e)=="symbol"?e:e+""}function so(t,e){if(he(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(he(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ro=["aria-activedescendant"],uo=["id","aria-label","aria-setsize","aria-posinset"],co=["id","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],po=["disabled","aria-expanded","aria-controls"],fo=["id"],mo=["id","aria-label"],ho=["id"],vo=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focus","data-p-disabled"];function bo(t,e,o,n,p,l){var A=O("InputText"),F=O("Chip"),Q=O("SpinnerIcon"),S=O("VirtualScroller"),P=O("Portal"),j=_t("ripple");return v(),_("div",E({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[11]||(e[11]=function(){return l.onContainerClick&&l.onContainerClick.apply(l,arguments)})},t.ptmi("root")),[t.multiple?H("",!0):(v(),ee(A,{key:0,ref:"focusInput",id:t.inputId,type:"text",name:t.$formName,class:$([t.cx("pcInputText"),t.inputClass]),style:kt(t.inputStyle),value:l.inputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,fluid:t.$fluid,disabled:t.disabled,size:t.size,invalid:t.invalid,variant:t.variant,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":p.overlayVisible,"aria-controls":l.panelId,"aria-activedescendant":p.focused?l.focusedOptionId:void 0,onFocus:l.onFocus,onBlur:l.onBlur,onKeydown:l.onKeyDown,onInput:l.onInput,onChange:l.onChange,unstyled:t.unstyled,pt:t.ptm("pcInputText")},null,8,["id","name","class","style","value","placeholder","tabindex","fluid","disabled","size","invalid","variant","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","onFocus","onBlur","onKeydown","onInput","onChange","unstyled","pt"])),t.multiple?(v(),_("ul",E({key:1,ref:"multiContainer",class:t.cx("inputMultiple"),tabindex:"-1",role:"listbox","aria-orientation":"horizontal","aria-activedescendant":p.focused?l.focusedMultipleOptionId:void 0,onFocus:e[5]||(e[5]=function(){return l.onMultipleContainerFocus&&l.onMultipleContainerFocus.apply(l,arguments)}),onBlur:e[6]||(e[6]=function(){return l.onMultipleContainerBlur&&l.onMultipleContainerBlur.apply(l,arguments)}),onKeydown:e[7]||(e[7]=function(){return l.onMultipleContainerKeyDown&&l.onMultipleContainerKeyDown.apply(l,arguments)})},t.ptm("inputMultiple")),[(v(!0),_(le,null,re(t.d_value,function(x,k){return v(),_("li",E({key:"".concat(k,"_").concat(l.getOptionLabel(x)),id:p.id+"_multiple_option_"+k,class:t.cx("chipItem",{i:k}),role:"option","aria-label":l.getOptionLabel(x),"aria-selected":!0,"aria-setsize":t.d_value.length,"aria-posinset":k+1,ref_for:!0},t.ptm("chipItem")),[J(t.$slots,"chip",E({class:t.cx("pcChip"),value:x,index:k,removeCallback:function(V){return l.removeOption(V,k)},ref_for:!0},t.ptm("pcChip")),function(){return[s(F,{class:$(t.cx("pcChip")),label:l.getOptionLabel(x),removeIcon:t.chipIcon||t.removeTokenIcon,removable:"",unstyled:t.unstyled,onRemove:function(V){return l.removeOption(V,k)},pt:t.ptm("pcChip")},{removeicon:f(function(){return[J(t.$slots,t.$slots.chipicon?"chipicon":"removetokenicon",{class:$(t.cx("chipIcon")),index:k,removeCallback:function(V){return l.removeOption(V,k)}})]}),_:2},1032,["class","label","removeIcon","unstyled","onRemove","pt"])]})],16,uo)}),128)),a("li",E({class:t.cx("inputChip"),role:"option"},t.ptm("inputChip")),[a("input",E({ref:"focusInput",id:t.inputId,type:"text",style:t.inputStyle,class:t.inputClass,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":p.overlayVisible,"aria-controls":p.id+"_list","aria-activedescendant":p.focused?l.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return l.onFocus&&l.onFocus.apply(l,arguments)}),onBlur:e[1]||(e[1]=function(){return l.onBlur&&l.onBlur.apply(l,arguments)}),onKeydown:e[2]||(e[2]=function(){return l.onKeyDown&&l.onKeyDown.apply(l,arguments)}),onInput:e[3]||(e[3]=function(){return l.onInput&&l.onInput.apply(l,arguments)}),onChange:e[4]||(e[4]=function(){return l.onChange&&l.onChange.apply(l,arguments)})},t.ptm("input")),null,16,co)],16)],16,ro)):H("",!0),p.searching||t.loading?J(t.$slots,t.$slots.loader?"loader":"loadingicon",{key:2,class:$(t.cx("loader"))},function(){return[t.loader||t.loadingIcon?(v(),_("i",E({key:0,class:["pi-spin",t.cx("loader"),t.loader,t.loadingIcon],"aria-hidden":"true"},t.ptm("loader")),null,16)):(v(),ee(Q,E({key:1,class:t.cx("loader"),spin:"","aria-hidden":"true"},t.ptm("loader")),null,16,["class"]))]}):H("",!0),J(t.$slots,t.$slots.dropdown?"dropdown":"dropdownbutton",{toggleCallback:function(k){return l.onDropdownClick(k)}},function(){return[t.dropdown?(v(),_("button",E({key:0,ref:"dropdownButton",type:"button",class:[t.cx("dropdown"),t.dropdownClass],disabled:t.disabled,"aria-haspopup":"listbox","aria-expanded":p.overlayVisible,"aria-controls":l.panelId,onClick:e[8]||(e[8]=function(){return l.onDropdownClick&&l.onDropdownClick.apply(l,arguments)})},t.ptm("dropdown")),[J(t.$slots,"dropdownicon",{class:$(t.dropdownIcon)},function(){return[(v(),ee(It(t.dropdownIcon?"span":"ChevronDownIcon"),E({class:t.dropdownIcon},t.ptm("dropdownIcon")),null,16,["class"]))]})],16,po)):H("",!0)]}),a("span",E({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSearchResult"),{"data-p-hidden-accessible":!0}),z(l.searchResultMessageText),17),s(P,{appendTo:t.appendTo},{default:f(function(){return[s(Dt,E({name:"p-connected-overlay",onEnter:l.onOverlayEnter,onAfterEnter:l.onOverlayAfterEnter,onLeave:l.onOverlayLeave,onAfterLeave:l.onOverlayAfterLeave},t.ptm("transition")),{default:f(function(){return[p.overlayVisible?(v(),_("div",E({key:0,ref:l.overlayRef,id:l.panelId,class:[t.cx("overlay"),t.panelClass,t.overlayClass],style:Ee(Ee({},t.panelStyle),t.overlayStyle),onClick:e[9]||(e[9]=function(){return l.onOverlayClick&&l.onOverlayClick.apply(l,arguments)}),onKeydown:e[10]||(e[10]=function(){return l.onOverlayKeyDown&&l.onOverlayKeyDown.apply(l,arguments)})},t.ptm("overlay")),[J(t.$slots,"header",{value:t.d_value,suggestions:l.visibleOptions}),a("div",E({class:t.cx("listContainer"),style:{"max-height":l.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("listContainer")),[s(S,E({ref:l.virtualScrollerRef},t.virtualScrollerOptions,{style:{height:t.scrollHeight},items:l.visibleOptions,tabindex:-1,disabled:l.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Ct({content:f(function(x){var k=x.styleClass,L=x.contentRef,V=x.items,w=x.getItemOptions,r=x.contentStyle,M=x.itemSize;return[a("ul",E({ref:function(T){return l.listRef(T,L)},id:p.id+"_list",class:[t.cx("list"),k],style:r,role:"listbox","aria-label":l.listAriaLabel},t.ptm("list")),[(v(!0),_(le,null,re(V,function(m,T){return v(),_(le,{key:l.getOptionRenderKey(m,l.getOptionIndex(T,w))},[l.isOptionGroup(m)?(v(),_("li",E({key:0,id:p.id+"_"+l.getOptionIndex(T,w),style:{height:M?M+"px":void 0},class:t.cx("optionGroup"),role:"option",ref_for:!0},t.ptm("optionGroup")),[J(t.$slots,"optiongroup",{option:m.optionGroup,index:l.getOptionIndex(T,w)},function(){return[W(z(l.getOptionGroupLabel(m.optionGroup)),1)]})],16,ho)):St((v(),_("li",E({key:1,id:p.id+"_"+l.getOptionIndex(T,w),style:{height:M?M+"px":void 0},class:t.cx("option",{option:m,i:T,getItemOptions:w}),role:"option","aria-label":l.getOptionLabel(m),"aria-selected":l.isSelected(m),"aria-disabled":l.isOptionDisabled(m),"aria-setsize":l.ariaSetSize,"aria-posinset":l.getAriaPosInset(l.getOptionIndex(T,w)),onClick:function(N){return l.onOptionSelect(N,m)},onMousemove:function(N){return l.onOptionMouseMove(N,l.getOptionIndex(T,w))},"data-p-selected":l.isSelected(m),"data-p-focus":p.focusedOptionIndex===l.getOptionIndex(T,w),"data-p-disabled":l.isOptionDisabled(m),ref_for:!0},l.getPTOptions(m,w,T,"option")),[J(t.$slots,"option",{option:m,index:l.getOptionIndex(T,w)},function(){return[W(z(l.getOptionLabel(m)),1)]})],16,vo)),[[j]])],64)}),128)),t.showEmptyMessage&&(!V||V&&V.length===0)?(v(),_("li",E({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[J(t.$slots,"empty",{},function(){return[W(z(l.searchResultMessageText),1)]})],16)):H("",!0)],16,mo)]}),_:2},[t.$slots.loader?{name:"loader",fn:f(function(x){var k=x.options;return[J(t.$slots,"loader",{options:k})]}),key:"0"}:void 0]),1040,["style","items","disabled","pt"])],16),J(t.$slots,"footer",{value:t.d_value,suggestions:l.visibleOptions}),a("span",E({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),z(l.selectedMessageText),17)],16,fo)):H("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}Xe.render=bo;const Fe=I([]),Ke=I([]);function yo(){return{plans:Fe,addons:Ke,fetchPlansForHotel:async o=>{try{const n=localStorage.getItem("authToken"),p=await fetch(`/api/plans/all/${o}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});Fe.value=await p.json()}catch(n){console.error("Failed to fetch hotel plans",n)}},fetchPlanAddons:async(o,n,p)=>{try{const l=localStorage.getItem("authToken"),A=await fetch(`/api/plans/${o}/${n}/${p}/addons`,{method:"GET",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});Ke.value=await A.json()}catch(l){console.error("Failed to fetch plan addons",l)}}}}const go={props:{reservation_id:{type:String,required:!0}},name:"ReservationEdit",components:{Panel:je,Card:Vt,Dialog:Ge,Tabs:Lt,TabList:Tt,Tab:At,TabPanels:Rt,TabPanel:Pt,Accordion:Et,AccordionPanel:Ft,AccordionHeader:Kt,AccordionContent:Bt,DataTable:He,Column:We,FloatLabel:Ze,InputNumber:qe,Select:Je,MultiSelect:Ut,Button:Qe},setup(t){const e=ze(),{availableRooms:o,reservationDetails:n,fetchReservation:p,fetchAvailableRooms:l}=Ue(),{plans:A,addons:F,fetchPlansForHotel:Q,fetchPlanAddons:S}=yo(),P=me(()=>n.value.reservation),j=[{label:"Monday",value:"mon"},{label:"Tuesday",value:"tue"},{label:"Wednesday",value:"wed"},{label:"Thursday",value:"thu"},{label:"Friday",value:"fri"},{label:"Saturday",value:"sat"},{label:"Sunday",value:"sun"}],x=I(!1),k=I(null),L=I(null),V=I(j),w=I(),r=I(null),M=I(0),m=me(()=>o.value.filter(c=>c.capacity>=M.value).map(c=>({label:`${c.room_number} - ${c.room_type_name} (${c.capacity}) ${c.smoking?" ðŸš¬":""} (Floor: ${c.floor})`,value:c.room_id}))),T=c=>{const g={weekday:"short",year:"numeric",month:"2-digit",day:"2-digit"};return`${new Date(c).toLocaleDateString(void 0,g)}`},q=c=>c.map(g=>({...g,display_date:T(g.date)})),N=async()=>{var c,g,K;if(L.value){const y=((c=L.value)==null?void 0:c.plans_global_id)??0,C=((g=L.value)==null?void 0:g.plans_hotel_id)??0,X=((K=P.value[0])==null?void 0:K.hotel_id)??0;try{await S(y,C,X)}catch(U){console.error("Failed to fetch plan add-ons:",U),F.value=[]}}};function ie(c){L.value=null,V.value=[{label:"Monday",value:"mon"},{label:"Tuesday",value:"tue"},{label:"Wednesday",value:"wed"},{label:"Thursday",value:"thu"},{label:"Friday",value:"fri"},{label:"Saturday",value:"sat"},{label:"Sunday",value:"sun"}],F.value=[],r.value=null,M.value=0}const D=c=>{k.value=c,x.value=!0},G=()=>{x.value=!1,k.value=null,L.value=null,V.value=[{label:"Monday",value:"mon"},{label:"Tuesday",value:"tue"},{label:"Wednesday",value:"wed"},{label:"Thursday",value:"thu"},{label:"Friday",value:"fri"},{label:"Saturday",value:"sat"},{label:"Sunday",value:"sun"}],F.value=[],r.value=null,M.value=0},b=async()=>{const c=new Set(V.value.map(y=>y.value)),K=k.value.details.filter(y=>{const C=new Date(y.date).toLocaleString("en-US",{weekday:"short"}).toLowerCase();return c.has(C)}).map(y=>L.value?{...y,plans_global_id:L.value.plans_global_id,plans_hotel_id:L.value.plans_hotel_id}:y).map(y=>{if(M.value===0||M.value===y.number_of_people)return{id:y.id,hotel_id:y.hotel_id,room_id:r.value?r.value.value:y.room_id,plans_global_id:y.plans_global_id,plans_hotel_id:y.plans_hotel_id,number_of_people:y.number_of_people,price:y.price===null?0:y.price,addons:w.value.map(C=>({id:C.id,addons_global_id:C.addons_global_id,addons_hotel_id:C.addons_hotel_id,plans_global_id:C.plans_global_id,plans_hotel_id:C.plans_hotel_id,price:C.price,quantity:C.quantity}))};if(M.value<y.number_of_people)return{id:y.id,hotel_id:y.hotel_id,room_id:y.room_id,plans_global_id:y.plans_global_id,plans_hotel_id:y.plans_hotel_id,number_of_people:y.number_of_people-M.value,price:y.price===null?0:y.price,addons:w.value.map(C=>({id:C.id,addons_global_id:C.addons_global_id,addons_hotel_id:C.addons_hotel_id,plans_global_id:C.plans_global_id,plans_hotel_id:C.plans_hotel_id,price:C.price,quantity:C.quantity}))}});console.log("dataToUpdate",K);try{for(const y of K){const C=localStorage.getItem("authToken"),X=await fetch(`/api/reservation/update/details/${y.id}`,{method:"PUT",headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},body:JSON.stringify(y)}),U=await X.json();if(!X.ok)throw new Error(`Error updating reservation detail: ${U.error||"Unknown error"}`)}await p(t.reservation_id),e.add({severity:"success",summary:"Success",detail:"Reservation details updated successfully!",life:3e3})}catch(y){console.error("Failed to apply changes:",y),e.add({severity:"error",summary:"Error",detail:"Failed to apply changes.",life:3e3})}},ue=me(()=>{if(!P.value)return[];const c={};return P.value.forEach(g=>{const K=`${g.room_id}-${g.room_type}`;c[K]||(c[K]={room_id:g.room_id,room_type:g.room_type_name,details:[]}),c[K].details.push(g)}),Object.values(c)});return Ne(async()=>{await p(t.reservation_id),await Q(P.value[0].hotel_id)}),R(()=>t.reservation_id,async(c,g)=>{c!==g&&(await p(c),await Q(P.value[0].hotel_id))}),R(P,(c,g)=>{c!==g&&console.log("editReservationDetails changed:",c)},{deep:!0}),R(ue,(c,g)=>{c!==g&&console.log("groupedRooms changed:",c)},{deep:!0}),R(k,(c,g)=>{if(c!==g&&(console.log("selectedGroup changed:",c),c&&c.details&&c.details.length>0)){const K=c.details,y=K[0].check_in,C=K[0].check_out;l(P.value[0].hotel_id,y,C)}},{deep:!0}),R(L,(c,g)=>{},{deep:!0}),R(V,(c,g)=>{},{deep:!0}),R(F,(c,g)=>{c!==g&&(w.value=c.map(K=>({...K,quantity:1})))},{deep:!0}),R(w,(c,g)=>{},{deep:!0}),R(o,(c,g)=>{c!==g&&console.log("availableRooms changed:",c)},{deep:!0}),R(r,(c,g)=>{c!==g&&console.log("targetRoom changed:",c)},{deep:!0}),R(M,(c,g)=>{c!==g&&console.log("numberOfPeopleToMove changed:",c)},{deep:!0}),{editReservationDetails:P,groupedRooms:ue,formattedGroupDetails:q,bulkEditDialogVisible:x,selectedGroup:k,selectedPlan:L,selectedDays:V,selectedAddon:w,targetRoom:r,numberOfPeopleToMove:M,filteredRooms:m,plans:A,daysOfWeek:j,availableRooms:o,updatePlanAddOns:N,handleTabChange:ie,openBulkEditDialog:D,closeBulkEditDialog:G,applyChanges:b}}},Oo={key:0,class:"p-fluid"},wo={class:"field m-2"},_o={class:"field m-2"},ko={class:"field m-2"},Io={class:"field m-2"},Do={class:"field m-2"},Co={key:1},So={class:"p-fluid"},xo={class:"field mt-8"},Vo={class:"field mt-6"},Mo={class:"field mt-6"},Lo={class:"grid xs:grid-cols-1 grid-cols-2 gap-2"},To={class:"field mt-6 col-6"},Ao={class:"field mt-6 col-6"};function Ro(t,e,o,n,p,l){const A=O("Card"),F=O("Button"),Q=O("AccordionHeader"),S=O("Column"),P=O("DataTable"),j=O("AccordionContent"),x=O("AccordionPanel"),k=O("Accordion"),L=O("Tab"),V=O("TabList"),w=O("Select"),r=O("FloatLabel"),M=O("MultiSelect"),m=O("InputNumber"),T=O("TabPanel"),q=O("TabPanels"),N=O("Tabs"),ie=O("Dialog");return v(),_("div",null,[s(A,{class:"m-2"},{title:f(()=>e[5]||(e[5]=[W("Reservation")])),content:f(()=>[a("p",null,"ID: "+z(o.reservation_id),1),n.editReservationDetails&&n.editReservationDetails.length>0?(v(),_("div",Oo,[a("div",wo,"Reservation Name: "+z(n.editReservationDetails[0].client_name),1),a("div",_o,"Number of People: "+z(n.editReservationDetails[0].reservation_number_of_people),1),a("div",ko,"Check-in: "+z(n.editReservationDetails[0].check_in),1),a("div",Io,"Check-out: "+z(n.editReservationDetails[0].check_out),1),a("div",Do,"Status: "+z(n.editReservationDetails[0].status),1)])):(v(),_("div",Co,"Loading reservation information..."))]),_:1}),s(A,{class:"m-2"},{title:f(()=>e[6]||(e[6]=[W("Rooms")])),content:f(()=>[s(k,{activeIndex:0},{default:f(()=>[(v(!0),_(le,null,re(n.groupedRooms,(D,G)=>(v(),ee(x,{key:D.room_id,value:D.room_id},{default:f(()=>[s(Q,null,{default:f(()=>{var b;return[W(" Room: "+z(`${(b=D.details[0])==null?void 0:b.room_number} - ${D.room_type}`)+" ",1),s(F,{icon:"pi pi-pencil",label:"Bulk Edit",class:"p-button-sm",onClick:ue=>n.openBulkEditDialog(D)},null,8,["onClick"])]}),_:2},1024),s(j,null,{default:f(()=>[s(P,{value:n.formattedGroupDetails(D.details)},{default:f(()=>[s(S,{field:"display_date",header:"Date",class:"text-xs"}),s(S,{field:"plans_global_id",header:"Plan",class:"text-xs"}),s(S,{field:"number_of_people",header:"People",class:"text-xs"}),s(S,{field:"price",header:"Rate",class:"text-xs"})]),_:2},1032,["value"])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),s(ie,{visible:n.bulkEditDialogVisible,"onUpdate:visible":e[4]||(e[4]=D=>n.bulkEditDialogVisible=D),header:"Bulk Edit Room Data",modal:!0,breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"}},{footer:f(()=>[s(F,{label:"Apply",icon:"pi pi-check",class:"p-button-success p-button-text p-button-sm",onClick:n.applyChanges},null,8,["onClick"]),s(F,{label:"Cancel",icon:"pi pi-times",class:"p-button-danger p-button-text p-button-sm",text:"",onClick:n.closeBulkEditDialog},null,8,["onClick"])]),default:f(()=>[a("div",So,[s(N,{value:"0","onUpdate:value":n.handleTabChange},{default:f(()=>[s(V,null,{default:f(()=>[s(L,{value:"0"},{default:f(()=>e[7]||(e[7]=[W("Apply Plan")])),_:1}),s(L,{value:"1"},{default:f(()=>e[8]||(e[8]=[W("Move Rooms")])),_:1})]),_:1}),s(q,null,{default:f(()=>[s(T,{value:"0"},{default:f(()=>[e[11]||(e[11]=a("h4",{class:"mb-3 font-bold"},"Apply Plan",-1)),a("div",xo,[s(r,null,{default:f(()=>[s(w,{id:"bulk-plan",modelValue:n.selectedPlan,"onUpdate:modelValue":e[0]||(e[0]=D=>n.selectedPlan=D),options:n.plans,optionLabel:"name",showClear:"",fluid:"",onChange:n.updatePlanAddOns},null,8,["modelValue","options","onChange"]),e[9]||(e[9]=a("label",{for:"bulk-plan"},"Select Plan",-1))]),_:1})]),a("div",Vo,[s(r,null,{default:f(()=>[s(M,{modelValue:n.selectedDays,"onUpdate:modelValue":e[1]||(e[1]=D=>n.selectedDays=D),options:n.daysOfWeek,optionLabel:"label",fluid:"",maxSelectedLabels:3},null,8,["modelValue","options"]),e[10]||(e[10]=a("label",null,"Days of the Week",-1))]),_:1})]),a("div",Mo,[s(P,{value:n.selectedAddon,class:"p-datatable-sm"},{default:f(()=>[s(S,{field:"name",header:"Add-On Name"}),s(S,{field:"quantity",header:"Quantity"},{body:f(D=>[s(m,{modelValue:D.data.quantity,"onUpdate:modelValue":G=>D.data.quantity=G,min:0,placeholder:"Enter quantity",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(S,{field:"price",header:"Price"},{body:f(D=>[s(m,{modelValue:D.data.price,"onUpdate:modelValue":G=>D.data.price=G,min:0,placeholder:"Enter price",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["value"])])]),_:1}),s(T,{value:"1"},{default:f(()=>[e[14]||(e[14]=a("h4",{class:"mt-4 mb-3 font-bold"},"Move People",-1)),a("div",Lo,[a("div",To,[s(r,null,{default:f(()=>{var D;return[s(m,{id:"move-people",modelValue:n.numberOfPeopleToMove,"onUpdate:modelValue":e[2]||(e[2]=G=>n.numberOfPeopleToMove=G),min:0,max:Math.max(...((D=n.selectedGroup)==null?void 0:D.details.map(G=>G.number_of_people))||[0])},null,8,["modelValue","max"]),e[12]||(e[12]=a("label",{for:"move-people"},"Number of People",-1))]}),_:1})]),a("div",Ao,[s(r,null,{default:f(()=>[s(w,{id:"move-room",modelValue:n.targetRoom,"onUpdate:modelValue":e[3]||(e[3]=D=>n.targetRoom=D),options:n.filteredRooms,optionLabel:"label",showClear:"",fluid:""},null,8,["modelValue","options"]),e[13]||(e[13]=a("label",{for:"move-room"},"Move to Room",-1))]),_:1})])])]),_:1})]),_:1})]),_:1},8,["onUpdate:value"])])]),_:1},8,["visible"])])}const Po=Be(go,[["render",Ro]]),Eo={name:"ReservationsNew",components:{ReservationEdit:Po,Panel:je,FloatLabel:Ze,DatePicker:Ht,InputNumber:qe,InputText:Ye,AutoComplete:Xe,Select:Je,SelectButton:Jt,RadioButton:Mt,DataTable:He,Column:We,Dialog:Ge,Button:Qe},data(){return{}},setup(){const t=ze(),{selectedHotel:e,selectedHotelId:o,selectedHotelRooms:n,fetchHotels:p,fetchHotel:l}=xt(),{clients:A,fetchClients:F}=Gt(),{availableRooms:Q,fetchAvailableRooms:S,reservationId:P,setReservationId:j,getReservationId:x}=Ue(),k=I([]),L=new Date,V=new Date(L);V.setDate(L.getDate()+1);const w=I([L,V]),r=I(new Date),M=I(new Map),m=I([]),T=I([]),q=I(1),N=I(null),ie=I(""),D=I(!1),G=I(!1),b=I({hotel_id:null,room_type_id:null,client_id:null,check_in:"",check_out:"",number_of_nights:1,number_of_people:1,name:"",legal_or_natural_person:"legal",gender:"other",email:null,phone:null}),ue=[{label:"Legal",value:"legal"},{label:"Natural",value:"natural"}],c=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],g=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,K=I(!0),y=/^[+]?[0-9]{1,4}[ ]?[-]?[0-9]{1,4}[ ]?[-]?[0-9]{1,9}$/,C=I(!0),X=I(!1),U=I(null),Y=I([]),ae=I(null),se=I(null),ke=me(()=>P.value),te=d=>{const i=d.getFullYear(),u=String(d.getMonth()+1).padStart(2,"0"),h=String(d.getDate()).padStart(2,"0");return`${i}-${u}-${h}`},Ie=d=>{if(!d)return"";let i=d.normalize("NFKC");return i=i.replace(/[\u3041-\u3096]/g,u=>String.fromCharCode(u.charCodeAt(0)+96)),i=i.replace(/[\uFF66-\uFF9F]/g,u=>String.fromCharCode(u.charCodeAt(0)-65216)),i},De=()=>{K.value=g.test(b.value.email)},Ce=()=>{C.value=y.test(b.value.phone)},de=(d,i)=>{const u=[];for(let h=new Date(d);h<=i;h.setDate(h.getDate()+1))u.push(te(new Date(h)));return u},Se=async d=>{if(d==="left"){const i=new Date(ae.value),u=new Date(ae.value);i.setDate(i.getDate()-3),u.setDate(u.getDate()-1);const h=de(i,u);Y.value=[...h,...Y.value],ae.value=te(i),await ce()}else if(d==="right"){const i=new Date(se.value),u=new Date(se.value);i.setDate(i.getDate()+1),u.setDate(u.getDate()+3);const h=de(i,u);Y.value=[...Y.value,...h],se.value=te(u),await ce()}},ce=async()=>{const d=Y.value.filter(i=>!M.value.has(i)).map(i=>{const u=new Date(i),h=new Date(i);h.setDate(u.getDate()+ve.value);const B=te(u),Z=te(h);return S(o.value,B,Z).then(()=>{const pe=Q.value.reduce((oe,Le)=>{const{room_type_id:be,capacity:ut}=Le;return oe[be]||(oe[be]={room_type_name:Le.room_type_name,count:0,total_capacity:0}),oe[be].count+=1,oe[be].total_capacity+=ut,oe},{});return M.value.set(i,{date:B,rooms:pe}),{date:B,rooms:pe}}).catch(pe=>(console.error(`Error fetching data for date ${B}:`,pe),{date:B,rooms:{}}))});try{const i=await Promise.all(d);m.value=[...m.value,...i]}catch(i){console.error("Error fetching room data:",i)}},$e=async()=>{w.value&&w.value.length===2&&w.value[0]&&w.value[1]&&(r.value=new Date(Math.min(...w.value.map(B=>B.getTime())))),M.value=new Map,m.value=[];const d=new Date(r.value),i=new Date(d);i.setDate(i.getDate()-5);const u=new Date(d);u.setDate(u.getDate()+30),ae.value=i,se.value=u,Y.value=de(i,u),await ce();const h=document.querySelector(".table-container");if(h){const Z=h.scrollWidth/8;h.scrollTo({left:Z,behavior:"smooth"})}};let xe=null;const Ve=(d,i)=>(...u)=>{clearTimeout(xe),xe=setTimeout(()=>d.apply(this,u),i)},et=async d=>{const i=d.target,u=1,h=1;i.scrollLeft<h&&(Ve(Se("left"),200),i.scrollLeft=h+10),i.scrollLeft+i.clientWidth>=i.scrollWidth-u&&Ve(Se("right"),200)},tt=d=>d.reduce((i,u)=>{for(const h in u.rooms)i.includes(h)||i.push(h);return i},[]),Me=(d,i)=>{if(!Array.isArray(i))return console.error("Expected array but got:",typeof i),"Unknown";for(const u of i)if(u.rooms&&u.rooms[d])return u.rooms[d].room_type_name;return"Unknown"},ot=(d,i)=>{if(!N.value||!m.value[i]||!m.value[i].rooms||!m.value[i].rooms[d])return!1;const u=m.value[i].rooms[d].total_capacity;return q.value>u},nt=(d,i)=>{const u=Me(d,m.value);N.value={roomTypeId:d,dateIndex:i,roomTypeName:u},ie.value=u;const h=new Date(m.value[i].date),B=new Date(h);B.setDate(h.getDate()+ve.value),w.value=[h,B]},lt=(d,i)=>N.value&&N.value.roomTypeId===d&&N.value.dateIndex===i,it=()=>{b.value.hotel_id=o.value,b.value.room_type_id=N.value.roomTypeId,G.value=!0},at=d=>{const i=d.query.toLowerCase();k.value=A.value.filter(u=>u.name&&u.name.toLowerCase().includes(i)||u.name_kana&&Ie(u.name_kana).toLowerCase().includes(Ie(i))||u.name_kanji&&u.name_kanji.toLowerCase().includes(i))},st=d=>{U.value=d.value,X.value=!0,b.value.client_id=U.value.id,b.value.legal_or_natural_person=U.value.legal_or_natural_person,b.value.gender=U.value.gender,b.value.email=U.value.email,b.value.phone=U.value.phone,b.value.name=U.value.name_kanji||U.value.name},rt=async()=>{if(De(),Ce(),!b.value.email&&!b.value.phone){t.add({severity:"warn",summary:"Validation Error",detail:"At least one of Email or Phone must be filled.",life:3e3});return}if(b.value.email&&!K.value){t.add({severity:"warn",summary:"Invalid Email",detail:"Please provide a valid email address.",life:3e3});return}if(b.value.phone&&!C.value){t.add({severity:"warn",summary:"Invalid Phone",detail:"Please provide a valid phone number.",life:3e3});return}const d=localStorage.getItem("authToken");try{const i=await fetch("/api/reservation/hold",{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify(b.value)});if(i.ok){const u=await i.json(),{reservation:h,reservationDetails:B}=u;t.add({severity:"success",summary:"Success",detail:"Reservation hold added successfully.",life:3e3}),j(h.id),G.value=!1}else console.warn("No data returned from fetchAvailableRooms. Not updating room availability."),t.add({severity:"warn",summary:"Warning",detail:"No data returned for available rooms.",life:3e3})}catch(i){console.error("Network error:",i)}},ve=me(()=>{if(w.value.length===2){const d=w.value[0],i=w.value[1],u=Math.floor((i-d)/(1e3*60*60*24));return u<0?0:u}return 0});return R(()=>e.value,async(d,i)=>{if(d){M.value=new Map,m.value=[];const u=new Date,h=new Date(u);h.setDate(h.getDate()-5);const B=new Date(u);B.setDate(B.getDate()+30),ae.value=h,se.value=B,Y.value=de(h,B);try{await ce(),m.value.length||console.warn("No data fetched for the new hotel."),ye(()=>{const Z=document.querySelector(".table-container");if(Z){const oe=Z.scrollWidth/8;Z.scrollTo({left:oe,behavior:"smooth"})}})}catch(Z){console.error("Error fetching data for new hotel:",Z)}}}),R(o,d=>{ye(()=>{})}),R(()=>w.value,d=>{if(d.length===2){const[i,u]=d;i&&u&&(b.value.check_in=te(i),b.value.check_out=te(u),b.value.number_of_nights=ve.value,b.value.number_of_people=q.value)}},{immediate:!0}),R(()=>q.value,d=>{b.value.number_of_people=q.value}),R(()=>b.value.legal_or_natural_person,d=>{d==="legal"&&(b.value.gender="other"),d==="natural"&&b.value.client_id==null&&(b.value.gender="male")}),R(()=>b.value.name,(d,i)=>{if(U.value){const u=U.value.name_kanji||U.value.name;d&&d!==i&&d!==u&&(b.value.client_id=null,b.value.legal_or_natural_person="legal",b.value.gender="other",b.value.email="",b.value.phone="",X.value=!1)}},{immediate:!0}),R(b,(d,i)=>{},{deep:!0}),R(Y,(d,i)=>{},{deep:!0}),R(()=>m.value,(d,i)=>{},{deep:!0}),R(ke,d=>{console.log("Updated reservation_id:",d)}),Ne(async()=>{await p(),await l();const d=new Date,i=new Date(d);i.setDate(i.getDate()-5);const u=new Date(d);u.setDate(u.getDate()+30),ae.value=i,se.value=u,Y.value=de(i,u),ye(()=>{ce();const h=document.querySelector(".table-container");if(h){const Z=h.scrollWidth/8;h.scrollTo({left:Z,behavior:"smooth"})}}),ye(()=>{F()})}),{clients:A,filteredClients:k,selectedDates:w,generateDateRangeArray:m,dateColumns:T,selectedCell:N,roomTypeInput:ie,loading:D,dialogVisible:G,reservationDetails:b,personTypeOptions:ue,genderOptions:c,dateRange:Y,reservation_id:ke,emailPattern:g,isValidEmail:K,phonePattern:y,isValidPhone:C,validateEmail:De,validatePhone:Ce,isClientSelected:X,onDateChange:$e,onScroll:et,extractRoomTypes:tt,getRoomTypeName:Me,isCapacityExceeded:ot,selectCell:nt,isSelectedCell:lt,openDialog:it,filterClients:at,onClientSelect:st,submitReservation:rt,numberOfNights:ve,numberOfPeople:q}},methods:{closeDialog(){this.dialogVisible=!1}}},Fo={class:"p-2"},Ko={class:"grid grid-cols-3 mb-4 mr-4 gap-2"},Bo={class:"col-span-2 mt-6"},zo={class:"col-span-1 mt-6"},No={class:"col-span-1 mt-6"},Uo={class:"col-span-1 mt-6"},jo={key:1},Go={class:"col-span-1 mt-6"},Ho={class:"table-auto w-full mb-2"},Wo={class:"px-4 py-2 text-center font-bold bg-white sticky left-0 z-10"},qo=["onClick"],Zo={key:0},Jo={key:1},Qo={class:"grid xs:grid-cols-1 grid-cols-2 gap-2 gap-y-6 pt-6"},Yo={class:"col-span-2"},Xo={key:0},$o={class:"col-6"},en={class:"col-6"},tn={key:0,class:"flex gap-3"},on={class:"col-6"},nn={key:0,class:"p-error"},ln={class:"col-6"},an={key:0,class:"p-error"},sn={class:"col-6"},rn={class:"col-6"},un={class:"col-6"},dn={class:"col-6"};function cn(t,e,o,n,p,l){const A=O("ReservationEdit"),F=O("Panel"),Q=O("DatePicker"),S=O("FloatLabel"),P=O("InputNumber"),j=O("InputText"),x=O("Button"),k=O("AutoComplete"),L=O("SelectButton"),V=O("RadioButton"),w=O("Dialog");return v(),_("div",Fo,[n.reservation_id?(v(),ee(F,{key:0,header:"Edit reservation"},{default:f(()=>[s(A,{reservation_id:n.reservation_id},null,8,["reservation_id"])]),_:1})):(v(),ee(F,{key:1,header:"New reservation"},{default:f(()=>[a("div",Ko,[e[20]||(e[20]=a("div",{class:"col-span-3"},[a("p",{class:"text-lg text-left mb-2"},"Available Rooms per day")],-1)),a("div",Bo,[s(S,null,{default:f(()=>[s(Q,{modelValue:n.selectedDates,"onUpdate:modelValue":[e[0]||(e[0]=r=>n.selectedDates=r),n.onDateChange],"selection-mode":"range",dateFormat:"yy-mm-dd",fluid:""},null,8,["modelValue","onUpdate:modelValue"]),e[17]||(e[17]=a("label",null,"Check-in & Check-out",-1))]),_:1})]),a("div",zo,[s(S,null,{default:f(()=>[s(P,{modelValue:n.numberOfPeople,"onUpdate:modelValue":e[1]||(e[1]=r=>n.numberOfPeople=r),min:1},null,8,["modelValue"]),e[18]||(e[18]=a("label",null,"Number of People",-1))]),_:1})]),a("div",No,[s(S,null,{default:f(()=>[s(P,{modelValue:n.numberOfNights,"onUpdate:modelValue":e[2]||(e[2]=r=>n.numberOfNights=r),variant:"filled",fluid:"",disabled:""},null,8,["modelValue"]),e[19]||(e[19]=a("label",null,"Number of Nights",-1))]),_:1})]),a("div",Uo,[s(S,null,{default:f(()=>[n.selectedCell?(v(),ee(j,{key:0,type:"text",modelValue:n.roomTypeInput,"onUpdate:modelValue":e[3]||(e[3]=r=>n.roomTypeInput=r),variant:"filled",fluid:"",disabled:""},null,8,["modelValue"])):H("",!0),n.selectedCell?(v(),_("label",jo,"Room Type")):H("",!0)]),_:1})]),a("div",Go,[n.selectedCell?(v(),ee(x,{key:0,label:"Add Reservation",icon:"pi pi-calendar",disabled:n.isCapacityExceeded(n.selectedCell.roomTypeId,n.selectedCell.dateIndex),onClick:n.openDialog},null,8,["disabled","onClick"])):H("",!0)])]),a("div",{class:"table-container",ref:"tableContainer",onScroll:e[4]||(e[4]=(...r)=>n.onScroll&&n.onScroll(...r))},[a("table",Ho,[a("thead",null,[a("tr",null,[e[21]||(e[21]=a("th",{class:"bg-white sticky left-0 z-20 border-l-2 border-gray-300"},"Room Type",-1)),(v(!0),_(le,null,re(n.dateRange,(r,M)=>(v(),_("th",{key:M,class:"px-4 py-2 text-center sticky top-0 bg-white z-10"},z(r),1))),128))])]),a("tbody",null,[(v(!0),_(le,null,re(n.extractRoomTypes(n.generateDateRangeArray),(r,M)=>(v(),_("tr",{key:M},[a("td",Wo,z(n.getRoomTypeName(r,n.generateDateRangeArray)),1),(v(!0),_(le,null,re(n.generateDateRangeArray,(m,T)=>(v(),_("td",{key:T,class:$(["px-4 py-2 text-center",{"bg-blue-100":n.isSelectedCell(r,T),"cursor-pointer":!0,"bg-red-100":n.isCapacityExceeded(r,T)}]),onClick:q=>n.selectCell(r,T)},[m.rooms&&m.rooms[r]?(v(),_("div",Zo,[a("p",null,[W(z(m.rooms[r].count)+" ",1),e[22]||(e[22]=a("i",{class:"pi pi-box"},null,-1)),e[23]||(e[23]=W("Rooms "))]),a("p",null,[W(z(m.rooms[r].total_capacity)+" ",1),e[24]||(e[24]=a("i",{class:"pi pi-users"},null,-1)),e[25]||(e[25]=W(" People"))])])):(v(),_("div",Jo,e[26]||(e[26]=[a("p",null,"N/A",-1)])))],10,qo))),128))]))),128))])])],544),s(w,{visible:n.dialogVisible,"onUpdate:visible":e[16]||(e[16]=r=>n.dialogVisible=r),header:"Reservation",closable:!0,modal:!0,style:{width:"600px"}},{footer:f(()=>[s(x,{label:"Close",icon:"pi pi-times",onClick:l.closeDialog,class:"p-button-danger p-button-text p-button-sm"},null,8,["onClick"]),s(x,{label:"Save",icon:"pi pi-check",onClick:n.submitReservation,class:"p-button-success p-button-text p-button-sm"},null,8,["onClick"])]),default:f(()=>[a("div",Qo,[a("div",Yo,[s(S,null,{default:f(()=>[s(k,{modelValue:n.reservationDetails.name,"onUpdate:modelValue":e[5]||(e[5]=r=>n.reservationDetails.name=r),suggestions:n.filteredClients,onComplete:n.filterClients,field:"id",onOptionSelect:n.onClientSelect,fluid:"",required:""},{option:f(r=>[a("div",null,[W(z(r.option.name_kanji||r.option.name||"")+" ",1),r.option.name_kana?(v(),_("span",Xo," ("+z(r.option.name_kana)+")",1)):H("",!0)])]),_:1},8,["modelValue","suggestions","onComplete","onOptionSelect"]),e[27]||(e[27]=a("label",null,"Name of the person",-1))]),_:1})]),a("div",$o,[s(L,{modelValue:n.reservationDetails.legal_or_natural_person,"onUpdate:modelValue":e[6]||(e[6]=r=>n.reservationDetails.legal_or_natural_person=r),options:n.personTypeOptions,"option-label":"label","option-value":"value",fluid:"",disabled:n.isClientSelected},null,8,["modelValue","options","disabled"])]),a("div",en,[n.reservationDetails.legal_or_natural_person==="natural"?(v(),_("div",tn,[s(V,{modelValue:n.reservationDetails.gender,"onUpdate:modelValue":e[7]||(e[7]=r=>n.reservationDetails.gender=r),inputId:"male",value:"male",disabled:n.isClientSelected},null,8,["modelValue","disabled"]),e[28]||(e[28]=a("label",{for:"male"},"Male",-1)),s(V,{modelValue:n.reservationDetails.gender,"onUpdate:modelValue":e[8]||(e[8]=r=>n.reservationDetails.gender=r),inputId:"female",value:"female",disabled:n.isClientSelected},null,8,["modelValue","disabled"]),e[29]||(e[29]=a("label",{for:"female"},"Female",-1)),s(V,{modelValue:n.reservationDetails.gender,"onUpdate:modelValue":e[9]||(e[9]=r=>n.reservationDetails.gender=r),inputId:"other",value:"other",disabled:n.isClientSelected},null,8,["modelValue","disabled"]),e[30]||(e[30]=a("label",{for:"other"},"Other",-1))])):H("",!0)]),a("div",on,[s(S,null,{default:f(()=>[s(j,{modelValue:n.reservationDetails.email,"onUpdate:modelValue":e[10]||(e[10]=r=>n.reservationDetails.email=r),pattern:n.emailPattern,class:$({"p-invalid":!n.isValidEmail}),onInput:n.validateEmail,fluid:"",disabled:n.isClientSelected},null,8,["modelValue","pattern","class","onInput","disabled"]),e[31]||(e[31]=a("label",null,"Email",-1)),n.isValidEmail?H("",!0):(v(),_("small",nn,"Please enter a valid email address."))]),_:1})]),a("div",ln,[s(S,null,{default:f(()=>[s(j,{modelValue:n.reservationDetails.phone,"onUpdate:modelValue":e[11]||(e[11]=r=>n.reservationDetails.phone=r),pattern:n.phonePattern,class:$({"p-invalid":!n.isValidPhone}),onInput:n.validatePhone,fluid:"",disabled:n.isClientSelected},null,8,["modelValue","pattern","class","onInput","disabled"]),e[32]||(e[32]=a("label",null,"Phone Number",-1)),n.isValidPhone?H("",!0):(v(),_("small",an,"Please enter a valid phone number."))]),_:1})]),a("div",sn,[s(S,null,{default:f(()=>[s(j,{modelValue:n.reservationDetails.check_in,"onUpdate:modelValue":e[12]||(e[12]=r=>n.reservationDetails.check_in=r),type:"date",variant:"filled",fluid:"",disabled:""},null,8,["modelValue"]),e[33]||(e[33]=a("label",null,"Check-in",-1))]),_:1})]),a("div",rn,[s(S,null,{default:f(()=>[s(j,{modelValue:n.reservationDetails.check_out,"onUpdate:modelValue":e[13]||(e[13]=r=>n.reservationDetails.check_out=r),type:"date",variant:"filled",fluid:"",disabled:""},null,8,["modelValue"]),e[34]||(e[34]=a("label",null,"Check-out",-1))]),_:1})]),a("div",un,[s(S,null,{default:f(()=>[s(P,{modelValue:n.reservationDetails.number_of_nights,"onUpdate:modelValue":e[14]||(e[14]=r=>n.reservationDetails.number_of_nights=r),variant:"filled",fluid:"",disabled:""},null,8,["modelValue"]),e[35]||(e[35]=a("label",null,"Number of Nights",-1))]),_:1})]),a("div",dn,[s(S,null,{default:f(()=>[s(P,{modelValue:n.reservationDetails.number_of_people,"onUpdate:modelValue":e[15]||(e[15]=r=>n.reservationDetails.number_of_people=r),variant:"filled",fluid:"",disabled:""},null,8,["modelValue"]),e[36]||(e[36]=a("label",null,"Number of People",-1))]),_:1})])])]),_:1},8,["visible"])]),_:1}))])}const An=Be(Eo,[["render",cn],["__scopeId","data-v-e81400ab"]]);export{An as default};
//# sourceMappingURL=ReservationsNew-DKqwuEb4.js.map
