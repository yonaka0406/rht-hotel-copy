{"version":3,"file":"ManagePlansRates-D5mIYxFm.js","sources":["../../../frontend/src/pages/Admin/ManagePlansAddons.vue","../../../frontend/src/pages/Admin/ManagePlansRates.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"plan\">\r\n        <div>\r\n            <div class=\"grid xs:grid-cols-1 grid-cols-3 gap-2 mt-6\">\r\n                <div class=\"flex justify-start\">\r\n                    <span class=\"font-bold text-lg\">Add-ons</span>\r\n                </div>\r\n                <div class=\"flex justify-start\">\r\n                    <Button @click=\"openAddonDialog\" label=\"Add New Addon\" icon=\"pi pi-plus\" />\r\n                </div>\r\n            </div>\r\n            <Accordion value=\"0\">\r\n                <AccordionPanel value=\"0\">\r\n                    <AccordionHeader>Current Add-ons</AccordionHeader>\r\n                    <AccordionContent>                        \r\n                        <DataTable :value=\"filteredCurrentConditions\">\r\n                            <Column field=\"date_start\" header=\"Start\"></Column>\r\n                            <Column field=\"date_end\" header=\"End\"></Column>    \r\n                            <Column field=\"name\" header=\"Addon\"></Column>\r\n                            <Column field=\"price\" header=\"Price\">\r\n                                <template #body=\"slotProps\">\r\n                                    {{ formatNumber(slotProps.data.price, 'currency') }}\r\n                                </template>                                    \r\n                            </Column>\r\n                            <Column header=\"Actions\">\r\n                                <template #body=\"slotProps\">\r\n                                    <Button \r\n                                        icon=\"pi pi-pencil\"\r\n                                        class=\"p-button-text p-button-sm\"\r\n                                        @click=\"openEditAddonDialog(slotProps.data)\"\r\n                                    />                                  \r\n                                </template>\r\n                            </Column>\r\n                        </DataTable>\r\n                    </AccordionContent>\r\n                </AccordionPanel>\r\n                <AccordionPanel value=\"1\">\r\n                    <AccordionHeader>Future Add-ons</AccordionHeader>\r\n                    <AccordionContent>\r\n                        <DataTable :value=\"filteredFutureConditions\">\r\n                            <Column field=\"date_start\" header=\"Start\"></Column>\r\n                            <Column field=\"date_end\" header=\"End\"></Column>    \r\n                            <Column field=\"name\" header=\"Addon\"></Column>\r\n                            <Column field=\"price\" header=\"Price\">\r\n                                <template #body=\"slotProps\">\r\n                                    {{ formatNumber(slotProps.data.price, 'currency') }}\r\n                                </template>                                    \r\n                            </Column>\r\n                            <Column header=\"Actions\">\r\n                                <template #body=\"slotProps\">\r\n                                    <Button \r\n                                        icon=\"pi pi-pencil\"\r\n                                        class=\"p-button-text p-button-sm\"\r\n                                        @click=\"openEditAddonDialog(slotProps.data)\"\r\n                                    />                                  \r\n                                </template>\r\n                            </Column>   \r\n                        </DataTable>\r\n                    </AccordionContent>\r\n                </AccordionPanel>\r\n                <AccordionPanel value=\"2\">\r\n                    <AccordionHeader>Past Add-ons</AccordionHeader>\r\n                    <AccordionContent>                        \r\n                        <DataTable :value=\"filteredPastConditions\">\r\n                            <Column field=\"date_start\" header=\"Start\"></Column>\r\n                            <Column field=\"date_end\" header=\"End\"></Column>    \r\n                            <Column field=\"name\" header=\"Addon\"></Column>\r\n                            <Column field=\"price\" header=\"Price\">\r\n                                <template #body=\"slotProps\">\r\n                                    {{ formatNumber(slotProps.data.price, 'currency') }}\r\n                                </template>                                    \r\n                            </Column>\r\n                            <Column header=\"Actions\">\r\n                                <template #body=\"slotProps\">\r\n                                    <Button \r\n                                        icon=\"pi pi-pencil\"\r\n                                        class=\"p-button-text p-button-sm\"\r\n                                        @click=\"openEditAddonDialog(slotProps.data)\"\r\n                                    />                                  \r\n                                </template>\r\n                            </Column>                    \r\n                        </DataTable>\r\n                    </AccordionContent>\r\n                </AccordionPanel>\r\n            </Accordion>\r\n\r\n            <Dialog header=\"New Addon\" v-model:visible=\"showAddonDialog\" :modal=\"true\" :style=\"{ width: '600px' }\" class=\"p-fluid\" :closable=\"true\">\r\n                <div class=\"grid xs:grid-cols-1 grid-cols-2 gap-2 gap-y-6 pt-6\">\r\n                    <div class=\"col-6\">\r\n                        <FloatLabel>\r\n                            <label for=\"AddonSelectEdit\" class=\"block mb-2\">Addon List</label>\r\n                            <Select v-model=\"newAddon.addons_id\" \r\n                                id=\"AddonSelectEdit\"                                \r\n                                :options=\"allAddons\"\r\n                                optionLabel=\"name\"\r\n                                optionValue=\"id\"\r\n                                placeholder=\"Select a Global Addon\" \r\n                                class=\"w-full\"                            \r\n                                filter \r\n                                required\r\n                                @change=\"onAddonChange\"\r\n                            /> \r\n                        </FloatLabel>\r\n                    </div>\r\n                    <div class=\"col-6\">\r\n                        <FloatLabel>\r\n                            <InputNumber v-model=\"newAddon.price\"                             \r\n                            mode=\"currency\" \r\n                            currency=\"JPY\" \r\n                            locale=\"ja-JP\" \r\n                            />\r\n                            <label>Price</label>\r\n                        </FloatLabel>\r\n                    </div>\r\n                </div>\r\n                <div class=\"grid xs:grid-cols-1 grid-cols-2 gap-2 gap-y-6 pt-6\">\r\n                        <div class=\"col-6\">\r\n                            <FloatLabel>\r\n                                <label for=\"dateStart\">Start Date</label>                \r\n                                <DatePicker v-model=\"newAddon.date_start\" \r\n                                    dateFormat=\"yy-mm-dd\"\r\n                                    class=\"w-full\"\r\n                                    required \r\n                                />\r\n                            </FloatLabel>                \r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <FloatLabel>\r\n                                <label for=\"dateEnd\">End Date</label>\r\n                                <DatePicker v-model=\"newAddon.date_end\"\r\n                                    dateFormat=\"yy-mm-dd\"\r\n                                    class=\"w-full\"  \r\n                                />\r\n                            </FloatLabel>                \r\n                        </div>\r\n                    </div>\r\n\r\n                <template #footer>                    \r\n                    <Button label=\"Add\" icon=\"pi pi-plus\" @click=\"addAddon\" class=\"p-button-success p-button-text p-button-sm\" />\r\n                    <Button label=\"Close\" icon=\"pi pi-times\" @click=\"showAddonDialog = false\" class=\"p-button-danger p-button-text p-button-sm\" />\r\n                </template>\r\n            </Dialog>\r\n\r\n            <Dialog header=\"Edit Addon\" v-model:visible=\"showEditAddonDialog\" :modal=\"true\" :style=\"{ width: '600px' }\" class=\"p-fluid\" :closable=\"true\">\r\n                <div class=\"grid xs:grid-cols-1 grid-cols-2 gap-2 gap-y-6 pt-6\">\r\n                    <div class=\"col-6\">\r\n                        <FloatLabel>\r\n                            <InputText v-model=\"editAddon.name\"\r\n                                disabled\r\n                            />\r\n                            <label>Addon</label>\r\n                        </FloatLabel>\r\n                        \r\n                    </div>\r\n                    <div class=\"col-6\">\r\n                        <FloatLabel>\r\n                            <InputNumber v-model=\"editAddon.price\"                             \r\n                            mode=\"currency\" \r\n                            currency=\"JPY\" \r\n                            locale=\"ja-JP\" \r\n                            />\r\n                            <label>Price</label>\r\n                        </FloatLabel>\r\n                    </div>\r\n                </div>\r\n                <div class=\"grid xs:grid-cols-1 grid-cols-2 gap-2 gap-y-6 pt-6\">\r\n                        <div class=\"col-6\">\r\n                            <FloatLabel>\r\n                                <label for=\"dateStart\">Start Date</label>                \r\n                                <DatePicker v-model=\"editAddon.date_start\" \r\n                                    dateFormat=\"yy-mm-dd\"\r\n                                    class=\"w-full\"\r\n                                    required \r\n                                />\r\n                            </FloatLabel>                \r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <FloatLabel>\r\n                                <label for=\"dateEnd\">End Date</label>\r\n                                <DatePicker v-model=\"editAddon.date_end\"\r\n                                    dateFormat=\"yy-mm-dd\"\r\n                                    class=\"w-full\"  \r\n                                />\r\n                            </FloatLabel>                \r\n                        </div>\r\n                    </div>\r\n\r\n                <template #footer>                    \r\n                    <Button label=\"Update\" icon=\"pi pi-check\" @click=\"updateAddon\" class=\"p-button-success p-button-text p-button-sm\" />\r\n                    <Button label=\"Close\" icon=\"pi pi-times\" @click=\"showEditAddonDialog = false\" class=\"p-button-danger p-button-text p-button-sm\" />\r\n                </template>\r\n            </Dialog>\r\n        </div>\r\n    </div>\r\n    <div v-else>\r\n        <p>Loading... or not!</p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { ref, watch, computed, onMounted } from 'vue';\r\n    import { useToast } from 'primevue/usetoast';\r\n\r\n    import Button from 'primevue/button';\r\n    import Dialog from 'primevue/dialog';\r\n    import FloatLabel from 'primevue/floatlabel';\r\n    import Select from 'primevue/select';\r\n    import InputNumber from 'primevue/inputnumber';\r\n    import InputText from 'primevue/inputtext';\r\n    import DatePicker from 'primevue/datepicker';\r\n    import Accordion from 'primevue/accordion';\r\n    import AccordionPanel from 'primevue/accordionpanel';\r\n    import AccordionHeader from 'primevue/accordionheader';\r\n    import AccordionContent from 'primevue/accordioncontent';\r\n    import DataTable from 'primevue/datatable';\r\n    import Column from 'primevue/column';\r\n\r\n    export default {\r\n        name: 'ManagePlanAddon',        \r\n        props: {\r\n            plan:{\r\n                type: Object,\r\n                required: true,\r\n            },                \r\n        },   \r\n        emits: ['update-filtered-conditions'],     \r\n        components: {\r\n            Button,\r\n            Dialog,\r\n            FloatLabel,            \r\n            Select,\r\n            InputNumber,\r\n            InputText,\r\n            DatePicker,\r\n            Accordion,\r\n            AccordionPanel,\r\n            AccordionHeader,\r\n            AccordionContent,\r\n            DataTable,\r\n            Column,\r\n        },\r\n        setup(props, { emit }) {\r\n            const toast = useToast();\r\n            const planInfo = ref({\r\n                plans_global_id: props.plan.plans_global_id,\r\n                plans_hotel_id: props.plan.plans_hotel_id,\r\n                hotel_id: props.plan.hotel_id,\r\n                date: props.plan.date,\r\n            });            \r\n            const newAddon = ref({ \r\n                hotel_id: null,\r\n                plans_global_id: null,\r\n                plans_hotel_id: null,\r\n                addons_id: null,\r\n                date_start: new Date().toISOString().split('T')[0],\r\n                date_end: null,\r\n                price: 0,                \r\n            });\r\n            const editAddon = ref({ \r\n                id: null,                \r\n                price: 0,\r\n                date_start: null,\r\n                date_end: null,\r\n            }); \r\n            const allAddons = ref([]);\r\n            const planAddons = ref([]);\r\n            const showAddonDialog = ref(false);\r\n            const showEditAddonDialog = ref(false);\r\n\r\n            const openAddonDialog = () => {\r\n\r\n                newAddon.value.plans_global_id = props.plan.plans_global_id;\r\n                newAddon.value.plans_hotel_id = props.plan.plans_hotel_id;\r\n                newAddon.value.hotel_id = props.plan.hotel_id;\r\n                \r\n                fetchAllAddons();\r\n                showAddonDialog.value = true;\r\n            };            \r\n            const openEditAddonDialog = (addonData) => {\r\n                // Populate the editAdjustment with the selected row data\r\n                editAddon.value = { ...addonData };\r\n                showEditAddonDialog.value = true; // Open the dialog\r\n            };\r\n            const fetchAllAddons = async () => {        \r\n                const hotel_id = planInfo.value.hotel_id;\r\n                \r\n                try {\r\n                    const authToken = localStorage.getItem('authToken')\r\n                    const response = await fetch(`/api/addons/all/${hotel_id}`, {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Authorization': `Bearer ${authToken}`,\r\n                            'Content-Type': 'application/json'\r\n                        }\r\n                    })\r\n                    if (!response.ok) {\r\n                        throw new Error(`HTTP error! status: ${response.status}`)\r\n                    }\r\n                    const data = await response.json()\r\n                    allAddons.value = data\r\n                    //console.log('Fetched Global Addons:', allAddons.value);\r\n                } catch (err) {\r\n                    console.error('Error fetching global addons:', err)\r\n                    err.value = err.message || 'Failed to fetch global addons'\r\n                } finally {\r\n                }\r\n            };\r\n            const fetchPlanAddons = async () => {\r\n                const formatDate = (date) => {\r\n                    if (!date) return null; // Handle null values\r\n                    const d = new Date(date);\r\n                    const yy = String(d.getFullYear());\r\n                    const mm = String(d.getMonth() + 1).padStart(2, '0'); // Month (01-12)\r\n                    const dd = String(d.getDate()).padStart(2, '0'); // Day (01-31)\r\n                    return `${yy}-${mm}-${dd}`;\r\n                };\r\n\r\n                try {\r\n                    const authToken = localStorage.getItem('authToken');\r\n                    const response = await fetch(`/api/plans/${planInfo.value.plans_global_id}/${planInfo.value.plans_hotel_id}/${planInfo.value.hotel_id}/addons`, {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Authorization': `Bearer ${authToken}`,\r\n                            'Content-Type': 'application/json',\r\n                        }\r\n                    });\r\n\r\n                    if (!response.ok) {\r\n                        throw new Error('Failed to fetch addons');\r\n                    }\r\n\r\n                    const data = await response.json();\r\n                    planAddons.value = data.map(addon => ({\r\n                        ...addon,\r\n                        date_start: formatDate(addon.date_start),\r\n                        date_end: formatDate(addon.date_end)\r\n                    }));\r\n                    sendFilteredConditions();\r\n                } catch (error) {\r\n                    console.error('Error fetching addons:', error);\r\n                }\r\n            };\r\n\r\n            const addAddon = async () => {\r\n                // Validation\r\n                    if (newAddon.value.date_end && new Date(newAddon.value.date_end) < new Date(newAddon.value.date_start)) {                    \r\n                        toast.add({ \r\n                            severity: 'error', \r\n                            summary: 'Error', \r\n                            detail: 'End date must be equal to or greater than start date.', life: 3000 \r\n                        });\r\n                        return;\r\n                    }\r\n                // Conversion from Datetime to Date\r\n                    const formatDate = (date) => {\r\n                        if (!date) return null;\r\n                        const d = new Date(date);\r\n                        const year = d.getFullYear();\r\n                        const month = String(d.getMonth() + 1).padStart(2, '0');\r\n                        const day = String(d.getDate()).padStart(2, '0');\r\n                        return `${year}-${month}-${day}`;\r\n                    };\r\n                    const formattedAdjustment = {\r\n                        ...newAddon.value,\r\n                        date_start: formatDate(newAddon.value.date_start),\r\n                        date_end: formatDate(newAddon.value.date_end),\r\n                    };\r\n\r\n                try {\r\n                    const authToken = localStorage.getItem('authToken');\r\n                    const response = await fetch(`/api/plans/addons`, {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Authorization': `Bearer ${authToken}`,\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        body: JSON.stringify(formattedAdjustment),\r\n                    });\r\n                    if (!response.ok) {\r\n                        throw new Error('Failed to save addon');\r\n                    } \r\n\r\n                    fetchPlanAddons();\r\n                    showAddonDialog.value = false;\r\n                    newAddon.value = {\r\n                        hotel_id: null,\r\n                        plans_global_id: null,\r\n                        plans_hotel_id: null,\r\n                        addons_id: null,\r\n                        date_start: new Date().toISOString().split('T')[0],\r\n                        date_end: null,\r\n                        price: 0,\r\n                    };\r\n\r\n                    toast.add({\r\n                        severity: 'success',\r\n                        summary: 'Success',\r\n                        detail: 'Addon created successfully',\r\n                        life: 3000\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Error saving adjustment:', error);\r\n                }\r\n\r\n            }\r\n            const updateAddon = async () => {\r\n                // Validation\r\n                if (editAddon.value.date_end && new Date(editAddon.value.date_end) < new Date(editAddon.value.date_start)) {\r\n                    toast.add({\r\n                        severity: 'error',\r\n                        summary: 'Error',\r\n                        detail: 'End date must be equal to or greater than start date.',\r\n                        life: 3000\r\n                    });\r\n                    return;\r\n                };                \r\n\r\n                // Conversion from Datetime to Date\r\n                const formatDate = (date) => {\r\n                    if (!date) return null;\r\n                    const d = new Date(date);\r\n                    const year = d.getFullYear();\r\n                    const month = String(d.getMonth() + 1).padStart(2, '0');\r\n                    const day = String(d.getDate()).padStart(2, '0');\r\n                    return `${year}-${month}-${day}`;\r\n                };\r\n\r\n                const formattedAdjustment = {\r\n                    ...editAddon.value,\r\n                    date_start: formatDate(editAddon.value.date_start),\r\n                    date_end: formatDate(editAddon.value.date_end),\r\n                };\r\n\r\n                try {\r\n                    const authToken = localStorage.getItem('authToken');\r\n                    const response = await fetch(`/api/plans/addons/${editAddon.value.id}`, {  \r\n                        method: 'PUT',\r\n                        headers: {\r\n                            'Authorization': `Bearer ${authToken}`,\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        body: JSON.stringify(formattedAdjustment),\r\n                    });\r\n\r\n                    if (!response.ok) {\r\n                        throw new Error('Failed to update adjustment');\r\n                    }\r\n\r\n                    fetchPlanAddons(); // Refresh the rates\r\n                    showEditAddonDialog.value = false; // Close the dialog\r\n                    editAddon.value = {\r\n                        id: null,                \r\n                        price: 0,\r\n                        date_start: null,\r\n                        date_end: null,\r\n                    };\r\n\r\n                    toast.add({\r\n                        severity: 'success',\r\n                        summary: 'Success',\r\n                        detail: 'Addon updated successfully',\r\n                        life: 3000\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Error updating addon:', error);\r\n                    toast.add({\r\n                        severity: 'error',\r\n                        summary: 'Error',\r\n                        detail: 'An error occurred while updating the addon.',\r\n                        life: 3000\r\n                    });\r\n                }\r\n            };\r\n\r\n            onMounted(fetchPlanAddons);            \r\n\r\n            // Computed \r\n            const selectAddons = computed({\r\n                get() {\r\n                    return newAddon.value.addons_hotel_id ? null : newAddon.value.addons_global_id;\r\n                },\r\n                set(value) {\r\n                    if (newAddon.value.addons_hotel_id) {\r\n                    newAddon.value.addons_hotel_id = value;\r\n                    } else {\r\n                    newAddon.value.addons_global_id = value;\r\n                    }\r\n                },\r\n            });\r\n\r\n            const filteredCurrentConditions = computed(() => {\r\n                const selectedDate = planInfo.value.date;                \r\n                if (!selectedDate) return null;\r\n\r\n                // Normalized date\r\n                const selectedDateObj = new Date(selectedDate);\r\n                selectedDateObj.setHours(0, 0, 0, 0);\r\n\r\n                return planAddons.value\r\n                    .filter(condition => {                    \r\n                        const startDate = new Date(condition.date_start);\r\n                        startDate.setHours(0, 0, 0, 0);                        \r\n                        const endDate = condition.date_end ? new Date(condition.date_end) : null;\r\n                        if (endDate) endDate.setHours(0, 0, 0, 0);                        \r\n                        return selectedDateObj >= startDate && (endDate ? selectedDateObj <= endDate : true);\r\n                    });\r\n            });\r\n            const filteredFutureConditions = computed(() => {\r\n                const selectedDate = planInfo.value.date;\r\n                if (!selectedDate) return null;\r\n                \r\n                // Normalized date\r\n                const selectedDateObj = new Date(selectedDate);\r\n                selectedDateObj.setHours(0, 0, 0, 0);\r\n\r\n                return planAddons.value\r\n                    .filter(condition => {\r\n                        const startDate = new Date(condition.date_start);\r\n                        startDate.setHours(0, 0, 0, 0);                        \r\n                        return startDate > selectedDateObj;\r\n                });\r\n\r\n                \r\n            });\r\n            const filteredPastConditions = computed(() => {\r\n                const selectedDate = planInfo.value.date;\r\n                if (!selectedDate) return null;\r\n\r\n                // Normalized date\r\n                const selectedDateObj = new Date(selectedDate);\r\n                selectedDateObj.setHours(0, 0, 0, 0);\r\n\r\n                return planAddons.value\r\n                    .filter(condition => {\r\n                        const startDate = new Date(condition.date_start);\r\n                        startDate.setHours(0, 0, 0, 0);\r\n                        const endDate = condition.date_end ? new Date(condition.date_end) : null;\r\n                        if (endDate) endDate.setHours(0, 0, 0, 0);\r\n                        return startDate < selectedDateObj && endDate != null;\r\n                    });\r\n            });\r\n\r\n            const sendFilteredConditions = () => {\r\n                console.log(\"Sending filtered conditions:\", filteredCurrentConditions.value);\r\n                emit('update-filtered-conditions', filteredCurrentConditions.value);\r\n            };\r\n            \r\n            // Watcher\r\n            /*\r\n            watch(newAddon, (newValue, oldValue) => {\r\n                console.log('newAddon changed:', newValue);            \r\n            }, { deep: true });            \r\n            watch(planAddons, (newValue, oldValue) => {\r\n                console.log('planAddons changed:', newValue);            \r\n            }, { deep: true });            \r\n            watch(filteredCurrentConditions, (newValue, oldValue) => {\r\n                console.log('filteredCurrentConditions changed:', newValue);            \r\n            }, { deep: true });\r\n            */\r\n            return {\r\n                planInfo,\r\n                newAddon,\r\n                editAddon,\r\n                allAddons,\r\n                showAddonDialog, \r\n                showEditAddonDialog,               \r\n                openAddonDialog,\r\n                openEditAddonDialog,\r\n                addAddon,\r\n                updateAddon,\r\n                selectAddons,\r\n                filteredCurrentConditions,\r\n                filteredFutureConditions,\r\n                filteredPastConditions,\r\n                sendFilteredConditions,\r\n            };\r\n        },\r\n        methods: {\r\n            onAddonChange() {                \r\n                const selectedAddon = this.allAddons.find(addon => addon.id === this.newAddon.addons_id);\r\n                if (selectedAddon) {\r\n                    this.newAddon.price = selectedAddon.price;  // Update the price field\r\n                }\r\n            },\r\n            formatNumber(value, style) {\r\n                if(style === 'currency'){\r\n                    return new Intl.NumberFormat('ja-JP', {\r\n                        style: 'currency',\r\n                        currency: 'JPY',\r\n                        minimumFractionDigits: 0,\r\n                        maximumFractionDigits: 0\r\n                    }).format(value);\r\n                }\r\n                if(style === 'decimal'){\r\n                    return new Intl.NumberFormat('ja-JP', {\r\n                        style: 'decimal',\r\n                        minimumFractionDigits: 2, \r\n                        maximumFractionDigits: 2\r\n                    }).format(value);\r\n                }                \r\n            },\r\n        },\r\n    }\r\n        \r\n</script>\r\n","<template>\r\n    <div v-if=\"plan\">\r\n        <div class=\"flex space-x-4 mb-4\">\r\n            <div class=\"p-4 shadow-lg rounded-lg w-1/3 bg-white\">\r\n                <h3 class=\"text-xl font-semibold\">Select Date:</h3>\r\n                <DatePicker v-model=\"selectedDate\" \r\n                    class=\"w-full\" \r\n                    placeholder=\"Select Date\"\r\n                    dateFormat=\"yy-mm-dd\" \r\n                />\r\n            </div>\r\n            <div class=\"p-4 shadow-lg rounded-lg w-1/3 bg-white\">\r\n                <h3 class=\"text-xl font-semibold\">Current Base Rate:</h3>\r\n                <div>\r\n                    <p v-if=\"filteredBaseRateSum !== null\">\r\n                    Total Base Rate: {{ formatNumber(filteredBaseRateSum, 'currency') }}\r\n                    </p>\r\n                    <p v-else>No base rate found for the selected date.</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"p-4 shadow-lg rounded-lg w-full md:w-1/3 bg-white mb-4\">\r\n                <h3 class=\"text-xl font-semibold\">Current Flat Fee Adjustments:</h3>\r\n                <div>\r\n                    <p v-if=\"filteredFlatFeeSum !== null\">\r\n                    Total Flat Fee: {{ formatNumber(filteredFlatFeeSum, 'currency') }}\r\n                    </p>\r\n                    <p v-else>No flat fee adjustment found for the selected date.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"flex space-x-4\">\r\n            <div class=\"p-4 shadow-lg rounded-lg w-full md:w-1/3 bg-white mb-4\">\r\n                <h3 class=\"text-xl font-semibold\">Current Percentage Adjustments:</h3>\r\n                <div>\r\n                    <p v-if=\"filteredPercentageSum !== null\">\r\n                    Total Percentage: {{ formatNumber(filteredPercentageSum, 'decimal') }}%\r\n                    </p>\r\n                    <p v-else>No percentage adjustment found for the selected date.</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"p-4 shadow-lg rounded-lg w-full md:w-1/3 bg-white mb-4\">\r\n                <h3 class=\"text-xl font-semibold\">Current Addons:</h3>\r\n                <div>                    \r\n                    <p>Count: {{ filteredAddonCount }}</p>\r\n                    <p>Total Price: {{ formatNumber(filteredAddonSum, 'currency') }}</p>                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div>\r\n            <div class=\"grid xs:grid-cols-1 grid-cols-3 gap-2 mt-6\">\r\n                <div class=\"flex justify-start\">\r\n                    <span class=\"font-bold text-lg\">Conditions</span>\r\n                </div>                  \r\n                <div class=\"flex justify-start\">\r\n                    <Button @click=\"openAdjustmentDialog\" label=\"Add New Adjustment\" icon=\"pi pi-plus\" />\r\n                </div>\r\n            </div>\r\n            <Accordion value=\"0\">\r\n                <AccordionPanel value=\"0\">\r\n                    <AccordionHeader>Current Conditions</AccordionHeader>\r\n                    <AccordionContent>                        \r\n                        <DataTable :value=\"filteredCurrentConditions\">\r\n                            <Column field=\"date_start\" header=\"Start\"></Column>\r\n                            <Column field=\"date_end\" header=\"End\"></Column>    \r\n                            <Column header=\"Rate\">\r\n                                <template #body=\"slotProps\">\r\n                                    <div v-if=\"slotProps.data.adjustment_type !== 'percentage'\">\r\n                                        {{ formatNumber(slotProps.data.adjustment_value, 'currency') }}\r\n                                    </div>\r\n                                    <div v-else>\r\n                                        {{ formatNumber(slotProps.data.adjustment_value, 'decimal') }}%\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'base_rate'\">\r\n                                        <Badge value=\"Base Rate\"\r\n                                            severity=\"secondary\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'flat_fee'\">\r\n                                        <Badge value=\"Flat Fee\"\r\n                                            severity=\"info\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'percentage'\">\r\n                                        <Badge value=\"Percentage\"\r\n                                            severity=\"warn\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    \r\n                                </template>\r\n                            </Column>\r\n                            <Column header=\"Condition\">\r\n                                <template #body=\"slotProps\">\r\n                                    <div v-if=\"slotProps.data.condition_type === 'day_of_week'\">                                        \r\n                                        <Badge \r\n                                            v-for=\"(day, index) in daysOfWeek\"\r\n                                            :key=\"index\"\r\n                                            :value=\"day.label.slice(0, 3)\"\r\n                                            :class=\"{'p-badge-success': slotProps.data.condition_value.includes(day.label.toLowerCase()), 'p-badge-secondary': !slotProps.data.condition_value.includes(day.label.toLowerCase())}\"\r\n                                            class=\"p-m-1\"\r\n                                        />\r\n                                    </div>\r\n                                    <div v-else-if=\"slotProps.data.condition_type === 'month'\">                                        \r\n                                        <Badge \r\n                                            v-for=\"(month, index) in months\" \r\n                                            :key=\"index\"\r\n                                            :value=\"month.label.slice(0, 3)\"\r\n                                            :class=\"{'p-badge-success': slotProps.data.condition_value.includes(month.label.toLowerCase()), 'p-badge-secondary': !slotProps.data.condition_value.includes(month.label.toLowerCase())}\"\r\n                                            class=\"p-m-1\"\r\n                                        />\r\n                                    </div>\r\n                                </template>\r\n                            </Column>\r\n                            <Column header=\"Actions\">\r\n                                <template #body=\"slotProps\">\r\n                                    <Button \r\n                                        icon=\"pi pi-pencil\"\r\n                                        class=\"p-button-text p-button-sm\"\r\n                                        @click=\"openEditAdjustmentDialog(slotProps.data)\"\r\n                                    />                                  \r\n                                </template>\r\n                            </Column>\r\n                        </DataTable>\r\n                    </AccordionContent>\r\n                </AccordionPanel>\r\n                <AccordionPanel value=\"1\">\r\n                    <AccordionHeader>Future Conditions</AccordionHeader>\r\n                    <AccordionContent>\r\n                        <DataTable :value=\"filteredFutureConditions\">\r\n                            <Column field=\"date_start\" header=\"Start\"></Column>\r\n                            <Column field=\"date_end\" header=\"End\"></Column>    \r\n                            <Column header=\"Rate\">\r\n                                <template #body=\"slotProps\">\r\n                                    <div v-if=\"slotProps.data.adjustment_type !== 'percentage'\">\r\n                                        {{ formatNumber(slotProps.data.adjustment_value, 'currency') }}\r\n                                    </div>\r\n                                    <div v-else>\r\n                                        {{ formatNumber(slotProps.data.adjustment_value, 'decimal') }}%\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'base_rate'\">\r\n                                        <Badge value=\"Base Rate\"\r\n                                            severity=\"secondary\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'flat_fee'\">\r\n                                        <Badge value=\"Flat Fee\"\r\n                                            severity=\"info\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'percentage'\">\r\n                                        <Badge value=\"Percentage\"\r\n                                            severity=\"warn\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    \r\n                                </template>\r\n                            </Column>\r\n                            <Column header=\"Condition\">\r\n                                <template #body=\"slotProps\">\r\n                                    <div v-if=\"slotProps.data.condition_type === 'day_of_week'\">                                        \r\n                                        <Badge \r\n                                            v-for=\"(day, index) in daysOfWeek\"\r\n                                            :key=\"index\"\r\n                                            :value=\"day.label.slice(0, 3)\"\r\n                                            :class=\"{'p-badge-success': slotProps.data.condition_value.includes(day.label.toLowerCase()), 'p-badge-secondary': !slotProps.data.condition_value.includes(day.label.toLowerCase())}\"\r\n                                            class=\"p-m-1\"\r\n                                        />\r\n                                    </div>\r\n                                    <div v-else-if=\"slotProps.data.condition_type === 'month'\">                                        \r\n                                        <Badge \r\n                                            v-for=\"(month, index) in months\" \r\n                                            :key=\"index\"\r\n                                            :value=\"month.label.slice(0, 3)\"\r\n                                            :class=\"{'p-badge-success': slotProps.data.condition_value.includes(month.label.toLowerCase()), 'p-badge-secondary': !slotProps.data.condition_value.includes(month.label.toLowerCase())}\"\r\n                                            class=\"p-m-1\"\r\n                                        />\r\n                                    </div>\r\n                                </template>\r\n                            </Column>\r\n                            <Column header=\"Actions\">\r\n                                <template #body=\"slotProps\">\r\n                                    <Button \r\n                                        icon=\"pi pi-pencil\"\r\n                                        class=\"p-button-text p-button-sm\"\r\n                                        @click=\"openEditAdjustmentDialog(slotProps.data)\"\r\n                                    />                                  \r\n                                </template>\r\n                            </Column>    \r\n                        </DataTable>\r\n                    </AccordionContent>\r\n                </AccordionPanel>\r\n                <AccordionPanel value=\"2\">\r\n                    <AccordionHeader>Past Conditions</AccordionHeader>\r\n                    <AccordionContent>                        \r\n                        <DataTable :value=\"filteredPastConditions\">\r\n                            <Column field=\"date_start\" header=\"Start\"></Column>\r\n                            <Column field=\"date_end\" header=\"End\"></Column>    \r\n                            <Column header=\"Rate\">\r\n                                <template #body=\"slotProps\">\r\n                                    <div v-if=\"slotProps.data.adjustment_type !== 'percentage'\">\r\n                                        {{ formatNumber(slotProps.data.adjustment_value, 'currency') }}\r\n                                    </div>\r\n                                    <div v-else>\r\n                                        {{ formatNumber(slotProps.data.adjustment_value, 'decimal') }}%\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'base_rate'\">\r\n                                        <Badge value=\"Base Rate\"\r\n                                            severity=\"secondary\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'flat_fee'\">\r\n                                        <Badge value=\"Flat Fee\"\r\n                                            severity=\"info\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    <div v-if=\"slotProps.data.adjustment_type === 'percentage'\">\r\n                                        <Badge value=\"Percentage\"\r\n                                            severity=\"warn\">\r\n                                        </Badge>\r\n                                    </div>\r\n                                    \r\n                                </template>\r\n                            </Column>\r\n                            <Column header=\"Condition\">\r\n                                <template #body=\"slotProps\">\r\n                                    <div v-if=\"slotProps.data.condition_type === 'day_of_week'\">                                        \r\n                                        <Badge \r\n                                            v-for=\"(day, index) in daysOfWeek\"\r\n                                            :key=\"index\"\r\n                                            :value=\"day.label.slice(0, 3)\"\r\n                                            :class=\"{'p-badge-success': slotProps.data.condition_value.includes(day.label.toLowerCase()), 'p-badge-secondary': !slotProps.data.condition_value.includes(day.label.toLowerCase())}\"\r\n                                            class=\"p-m-1\"\r\n                                        />\r\n                                    </div>\r\n                                    <div v-else-if=\"slotProps.data.condition_type === 'month'\">                                        \r\n                                        <Badge \r\n                                            v-for=\"(month, index) in months\" \r\n                                            :key=\"index\"\r\n                                            :value=\"month.label.slice(0, 3)\"\r\n                                            :class=\"{'p-badge-success': slotProps.data.condition_value.includes(month.label.toLowerCase()), 'p-badge-secondary': !slotProps.data.condition_value.includes(month.label.toLowerCase())}\"\r\n                                            class=\"p-m-1\"\r\n                                        />\r\n                                    </div>\r\n                                </template>\r\n                            </Column>   \r\n                            <Column header=\"Actions\">\r\n                                <template #body=\"slotProps\">\r\n                                    <Button \r\n                                        icon=\"pi pi-pencil\"\r\n                                        class=\"p-button-text p-button-sm\"\r\n                                        @click=\"openEditAdjustmentDialog(slotProps.data)\"\r\n                                    />                                  \r\n                                </template>\r\n                            </Column>                     \r\n                        </DataTable>\r\n                    </AccordionContent>\r\n                </AccordionPanel>\r\n            </Accordion>\r\n        </div>\r\n\r\n        <div>\r\n            <ManagePlansAddons :plan=\"planId\" @update-filtered-conditions=\"handleFilteredAddons\" />\r\n        </div>\r\n        \r\n        <Dialog header=\"Add New Adjustment\" v-model:visible=\"showAdjustmentDialog\" :modal=\"true\" :style=\"{ width: '600px' }\" class=\"p-fluid\" :closable=\"true\">\r\n            <div class=\"grid xs:grid-cols-1 grid-cols-2 gap-2 gap-y-6 pt-6\">\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"adjustmentType\">Adjustment Type *</label>\r\n                        <Select v-model=\"newAdjustment.adjustment_type\" \r\n                            :options=\"adjustmentTypes\" \r\n                            optionLabel=\"label\" \r\n                            optionValue=\"value\" \r\n                            fluid \r\n                            required />\r\n                    </FloatLabel>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"conditionType\">Condition Type *</label>\r\n                        <Select v-model=\"newAdjustment.condition_type\" \r\n                            :options=\"conditionTypes\" \r\n                            optionLabel=\"label\" \r\n                            optionValue=\"value\" \r\n                            class=\"w-full\"\r\n                            @change=\"updateConditionValues\" \r\n                            required \r\n                        />\r\n                    </FloatLabel>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"adjustmentValue\">Adjustment Value *</label>\r\n                        <div v-if=\"newAdjustment.adjustment_type !== 'percentage'\">\r\n                            <InputNumber v-model=\"newAdjustment.adjustment_value\" \r\n                                mode=\"currency\" \r\n                                currency=\"JPY\" \r\n                                locale=\"ja-JP\" \r\n                                class=\"w-full\"\r\n                                required \r\n                            />\r\n\r\n                        </div>\r\n                        <div v-else>\r\n                            <InputNumber v-model=\"newAdjustment.adjustment_value\" \r\n                                :minFractionDigits=\"2\"\r\n                                :maxFractionDigits=\"2\"\r\n                                suffix=\"%\"\r\n                                class=\"w-full\"\r\n                                required \r\n                            />\r\n                        </div>                        \r\n                    </FloatLabel>                \r\n                </div>\r\n                <div class=\"col-6\">                    \r\n                    <FloatLabel>\r\n                        <label for=\"conditionValue\">Condition Value</label>\r\n                        <MultiSelect v-model=\"newAdjustment.condition_value\" \r\n                            placeholder=\"Condition Value\"\r\n                            :options=\"conditionValues\" \r\n                            optionLabel=\"label\" \r\n                            optionValue=\"value\"\r\n                            :maxSelectedLabels=\"3\"\r\n                            class=\"w-full\"\r\n                        />\r\n                    </FloatLabel>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"dateStart\">Start Date</label>                \r\n                        <DatePicker v-model=\"newAdjustment.date_start\" \r\n                            dateFormat=\"yy-mm-dd\"\r\n                            class=\"w-full\"\r\n                            required \r\n                        />\r\n                    </FloatLabel>                \r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"dateEnd\">End Date</label>\r\n                        <DatePicker v-model=\"newAdjustment.date_end\"\r\n                            dateFormat=\"yy-mm-dd\"\r\n                            class=\"w-full\"  \r\n                        />\r\n                    </FloatLabel>                \r\n                </div>\r\n            </div>\r\n            <template #footer>\r\n                <Button label=\"Save\" icon=\"pi pi-check\" @click=\"saveAdjustment\" class=\"p-button-success\" />\r\n                <Button label=\"Cancel\" icon=\"pi pi-times\" @click=\"showAdjustmentDialog = false\" class=\"p-button-danger\" />\r\n            </template>\r\n        </Dialog>\r\n\r\n        <Dialog header=\"Edit Adjustment\" v-model:visible=\"showEditAdjustmentDialog\" :modal=\"true\" :style=\"{ width: '600px' }\" class=\"p-fluid\" :closable=\"true\">\r\n            <div class=\"grid xs:grid-cols-1 grid-cols-2 gap-2 gap-y-6 pt-6\">\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"adjustmentType\">Adjustment Type *</label>\r\n                        <Select v-model=\"editAdjustment.adjustment_type\" \r\n                            :options=\"adjustmentTypes\" \r\n                            optionLabel=\"label\" \r\n                            optionValue=\"value\" \r\n                            fluid \r\n                            required />\r\n                    </FloatLabel>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"conditionType\">Condition Type *</label>\r\n                        <Select v-model=\"editAdjustment.condition_type\" \r\n                            :options=\"conditionTypes\" \r\n                            optionLabel=\"label\" \r\n                            optionValue=\"value\" \r\n                            class=\"w-full\"\r\n                            @change=\"updateEditConditionValues\" \r\n                            required \r\n                        />\r\n                    </FloatLabel>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"adjustmentValue\">Adjustment Value *</label>\r\n                        <div v-if=\"editAdjustment.adjustment_type !== 'percentage'\">\r\n                            <InputNumber v-model=\"editAdjustment.adjustment_value\" \r\n                                mode=\"currency\" \r\n                                currency=\"JPY\" \r\n                                locale=\"ja-JP\" \r\n                                class=\"w-full\"\r\n                                required \r\n                            />\r\n                        </div>\r\n                        <div v-else>\r\n                            <InputNumber v-model=\"editAdjustment.adjustment_value\" \r\n                                :minFractionDigits=\"2\"\r\n                                :maxFractionDigits=\"2\"\r\n                                suffix=\"%\"\r\n                                class=\"w-full\"\r\n                                required \r\n                            />\r\n                        </div>                        \r\n                    </FloatLabel>                \r\n                </div>                \r\n                <div class=\"col-6\">                    \r\n                    <FloatLabel>\r\n                        <label for=\"conditionValue\">Condition Value</label>\r\n                        <MultiSelect  \r\n                            v-model=\"selectedEditConditions\"\r\n                            placeholder=\"Condition Value\"\r\n                            :options=\"conditionValues\" \r\n                            optionLabel=\"label\" \r\n                            optionValue=\"value\"\r\n                            :maxSelectedLabels=\"3\"\r\n                            class=\"w-full\"\r\n                        />\r\n                    </FloatLabel>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"dateStart\">Start Date</label>                \r\n                        <DatePicker v-model=\"editAdjustment.date_start\" \r\n                            dateFormat=\"yy-mm-dd\"\r\n                            class=\"w-full\"\r\n                            required \r\n                        />\r\n                    </FloatLabel>                \r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <FloatLabel>\r\n                        <label for=\"dateEnd\">End Date</label>\r\n                        <DatePicker v-model=\"editAdjustment.date_end\"\r\n                            dateFormat=\"yy-mm-dd\"\r\n                            class=\"w-full\"  \r\n                        />\r\n                    </FloatLabel>                \r\n                </div>\r\n            </div>\r\n            <template #footer>\r\n                <Button label=\"Update\" icon=\"pi pi-check\" @click=\"updateAdjustment\" class=\"p-button-success\" />\r\n                <Button label=\"Cancel\" icon=\"pi pi-times\" @click=\"showEditAdjustmentDialog = false\" class=\"p-button-danger\" />\r\n            </template>\r\n        </Dialog>\r\n\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n    import { ref, watch, computed, onMounted } from 'vue';\r\n    import { useToast } from 'primevue/usetoast';\r\n\r\n    import ManagePlansAddons from './ManagePlansAddons.vue';\r\n\r\n    import Button from 'primevue/button';\r\n    import Dialog from 'primevue/dialog';\r\n    import InputNumber from 'primevue/inputnumber';\r\n    import InputText from 'primevue/inputtext';\r\n    import Select from 'primevue/select';\r\n    import MultiSelect from 'primevue/multiselect'\r\n    import DatePicker from 'primevue/datepicker';\r\n    import FloatLabel from 'primevue/floatlabel';\r\n    import Accordion from 'primevue/accordion';\r\n    import AccordionPanel from 'primevue/accordionpanel';\r\n    import AccordionHeader from 'primevue/accordionheader';\r\n    import AccordionContent from 'primevue/accordioncontent';\r\n    import DataTable from 'primevue/datatable';\r\n    import Column from 'primevue/column';\r\n    import Badge from 'primevue/badge';\r\n\r\n    export default {\r\n        name: 'ManagePlanRate',\r\n        props: {\r\n        plan: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                addons: []\r\n            };\r\n        },\r\n        components: {\r\n            ManagePlansAddons,\r\n            Button,\r\n            Dialog,\r\n            InputNumber,\r\n            InputText,\r\n            Select,\r\n            MultiSelect,\r\n            DatePicker,\r\n            FloatLabel,\r\n            Accordion,\r\n            AccordionPanel,\r\n            AccordionHeader,\r\n            AccordionContent,\r\n            DataTable,\r\n            Column,\r\n            Badge,\r\n        },\r\n        setup(props) {\r\n            const toast = useToast();\r\n            const selectedDate = ref(new Date().toISOString().split('T')[0]);\r\n            const planId = ref({                \r\n                plans_global_id: props.plan.context === 'global' ? props.plan.id : 0,\r\n                plans_hotel_id: props.plan.context === 'hotel' ? props.plan.id : 0,\r\n                hotel_id: props.plan.context === 'hotel' ? props.plan.hotel_id : 0, \r\n                date: selectedDate,\r\n            });            \r\n            const allRates = ref([]);            \r\n            const showAdjustmentDialog = ref(false);\r\n            const showEditAdjustmentDialog = ref(false);\r\n            const selectedEditConditions = ref([]);            \r\n            const newAdjustment = ref({\r\n                hotel_id: null,\r\n                plans_global_id: null,\r\n                plans_hotel_id: null,\r\n                adjustment_type: 'base_rate',\r\n                adjustment_value: 0,\r\n                condition_type: 'no_restriction',\r\n                condition_value: [],\r\n                date_start: new Date().toISOString().split('T')[0],\r\n                date_end: null,\r\n            });\r\n            const editAdjustment = ref({\r\n                hotel_id: null,\r\n                plans_global_id: null,\r\n                plans_hotel_id: null,\r\n                adjustment_type: 'base_rate',\r\n                adjustment_value: 0,\r\n                condition_type: 'no_restriction',\r\n                condition_value: [],\r\n                date_start: new Date().toISOString().split('T')[0],\r\n                date_end: null,\r\n            });            \r\n            const adjustmentTypes = [\r\n                { label: 'Base Rate', value: 'base_rate' },\r\n                { label: 'Percentage', value: 'percentage' },\r\n                { label: 'Flat Fee', value: 'flat_fee' },\r\n            ];\r\n            const conditionTypes = [\r\n                { label: 'No Restriction', value: 'no_restriction' },\r\n                { label: 'Day of Week', value: 'day_of_week' },\r\n                { label: 'Month', value: 'month' },\r\n            ];\r\n            const conditionValues = ref([]);\r\n            const filteredCurrentAddons = ref([]);\r\n\r\n            const daysOfWeek = [\r\n                { label: 'Monday', value: 'monday' },\r\n                { label: 'Tuesday', value: 'tuesday' },\r\n                { label: 'Wednesday', value: 'wednesday' },\r\n                { label: 'Thursday', value: 'thursday' },\r\n                { label: 'Friday', value: 'friday' },\r\n                { label: 'Saturday', value: 'saturday' },\r\n                { label: 'Sunday', value: 'sunday' }\r\n            ];\r\n\r\n            const months = [\r\n                { label: 'January', value: 'january' },\r\n                { label: 'February', value: 'february' },\r\n                { label: 'March', value: 'march' },\r\n                { label: 'April', value: 'april' },\r\n                { label: 'May', value: 'may' },\r\n                { label: 'June', value: 'june' },\r\n                { label: 'July', value: 'july' },\r\n                { label: 'August', value: 'august' },\r\n                { label: 'September', value: 'september' },\r\n                { label: 'October', value: 'october' },\r\n                { label: 'November', value: 'november' },\r\n                { label: 'December', value: 'december' }\r\n            ];            \r\n\r\n            const fetchRates = async () => {\r\n                // Helper function to format the date\r\n                const formatDate = (date) => {\r\n                    if (!date) return null; // Handle null values\r\n                    const d = new Date(date);\r\n                    const yy = String(d.getFullYear()); \r\n                    const mm = String(d.getMonth() + 1).padStart(2, '0'); // Month (01-12)\r\n                    const dd = String(d.getDate()).padStart(2, '0'); // Day (01-31)\r\n                    return `${yy}-${mm}-${dd}`;\r\n                };\r\n\r\n                try {\r\n                    const authToken = localStorage.getItem('authToken');\r\n                    const response = await fetch(`/api/plans/${planId.value.plans_global_id}/${planId.value.plans_hotel_id}/${planId.value.hotel_id}/rates`, {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Authorization': `Bearer ${authToken}`,\r\n                            'Content-Type': 'application/json',\r\n                        }                        \r\n                    });\r\n\r\n                    if (!response.ok) {\r\n                        throw new Error('Failed to fetch rates');\r\n                    }\r\n\r\n                    const data = await response.json();\r\n                    allRates.value = data.map(rate => ({\r\n                        ...rate,\r\n                        date_start: formatDate(rate.date_start),\r\n                        date_end: formatDate(rate.date_end)\r\n                    }));\r\n                } catch (error) {\r\n                    console.error('Error fetching rates:', error);\r\n                }\r\n            };\r\n\r\n            const openAdjustmentDialog = () => {\r\n                if (props.plan.context === 'global') {\r\n                    newAdjustment.value.plans_global_id = props.plan.id;\r\n                    newAdjustment.value.plans_hotel_id = null;\r\n                } else if (props.plan.context === 'hotel') {\r\n                    newAdjustment.value.plans_global_id = null;\r\n                    newAdjustment.value.plans_hotel_id = props.plan.id;\r\n                    newAdjustment.value.hotel_id = props.plan.hotel_id;\r\n                }\r\n                showAdjustmentDialog.value = true;\r\n            };\r\n\r\n            const openEditAdjustmentDialog = (adjustmentData) => {\r\n                // Populate the editAdjustment with the selected row data\r\n                editAdjustment.value = { ...adjustmentData };\r\n\r\n                updateEditConditionValues();\r\n                showEditAdjustmentDialog.value = true; // Open the dialog\r\n            };\r\n\r\n            const updateConditionValues = () => {\r\n                if (newAdjustment.value.condition_type === 'day_of_week') {\r\n                    conditionValues.value = daysOfWeek;\r\n                } else if (newAdjustment.value.condition_type === 'month') {\r\n                    conditionValues.value = months;\r\n                } else if (newAdjustment.value.condition_type === 'no_restriction') {\r\n                    newAdjustment.value.condition_value = [];\r\n                    conditionValues.value = [];\r\n                } else {\r\n                    conditionValues.value = [];\r\n                }\r\n            };\r\n            const updateEditConditionValues = () => {\r\n                if (editAdjustment.value.condition_type === 'day_of_week') {\r\n                    conditionValues.value = daysOfWeek;\r\n                } else if (editAdjustment.value.condition_type === 'month') {\r\n                    conditionValues.value = months;\r\n                } else if (editAdjustment.value.condition_type === 'no_restriction') {\r\n                    editAdjustment.value.condition_value = [];\r\n                    conditionValues.value = [];\r\n                } else {\r\n                    conditionValues.value = [];\r\n                }\r\n            };\r\n\r\n            const saveAdjustment = async () => {\r\n                // Validation\r\n                    if (newAdjustment.value.date_end && new Date(newAdjustment.value.date_end) < new Date(newAdjustment.value.date_start)) {                    \r\n                        toast.add({ \r\n                            severity: 'error', \r\n                            summary: 'Error', \r\n                            detail: 'End date must be equal to or greater than start date.', life: 3000 \r\n                        });\r\n                        return;\r\n                    }\r\n                    if (newAdjustment.value.adjustment_value === 0) {\r\n                        toast.add({\r\n                            severity: 'error',\r\n                            summary: 'Error',\r\n                            detail: 'Adjustment value must be different than 0.',\r\n                            life: 3000\r\n                        });\r\n                        return;\r\n                    }\r\n\r\n                // Conversion from Datetime to Date\r\n                    const formatDate = (date) => {\r\n                        if (!date) return null;\r\n                        const d = new Date(date);\r\n                        const year = d.getFullYear();\r\n                        const month = String(d.getMonth() + 1).padStart(2, '0');\r\n                        const day = String(d.getDate()).padStart(2, '0');\r\n                        return `${year}-${month}-${day}`;\r\n                    };\r\n                    const formattedAdjustment = {\r\n                        ...newAdjustment.value,\r\n                        date_start: formatDate(newAdjustment.value.date_start),\r\n                        date_end: formatDate(newAdjustment.value.date_end),\r\n                    };\r\n\r\n                try {\r\n                    const authToken = localStorage.getItem('authToken');\r\n                    const response = await fetch(`/api/plans/${props.plan.id}/rates`, {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Authorization': `Bearer ${authToken}`,\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        body: JSON.stringify(formattedAdjustment),\r\n                    });\r\n                    if (!response.ok) {\r\n                        throw new Error('Failed to save adjustment');\r\n                    } \r\n\r\n                    fetchRates();\r\n                    showAdjustmentDialog.value = false;\r\n                    newAdjustment.value = {\r\n                        hotel_id: null,\r\n                        plans_global_id: null,\r\n                        plans_hotel_id: null,\r\n                        adjustment_type: 'base_rate',\r\n                        adjustment_value: 0,\r\n                        condition_type: 'no_restriction',\r\n                        condition_value: [],\r\n                        date_start: null,\r\n                        date_end: null,\r\n                    };\r\n\r\n                    toast.add({\r\n                        severity: 'success',\r\n                        summary: 'Success',\r\n                        detail: 'Rate created successfully',\r\n                        life: 3000\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Error saving adjustment:', error);\r\n                }\r\n            };\r\n\r\n            const updateAdjustment = async () => {\r\n                // Validation\r\n                if (editAdjustment.value.date_end && new Date(editAdjustment.value.date_end) < new Date(editAdjustment.value.date_start)) {\r\n                    toast.add({\r\n                        severity: 'error',\r\n                        summary: 'Error',\r\n                        detail: 'End date must be equal to or greater than start date.',\r\n                        life: 3000\r\n                    });\r\n                    return;\r\n                }\r\n                if (editAdjustment.value.adjustment_value === 0) {\r\n                    toast.add({\r\n                        severity: 'error',\r\n                        summary: 'Error',\r\n                        detail: 'Adjustment value must be different than 0.',\r\n                        life: 3000\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                // Conversion from Datetime to Date\r\n                const formatDate = (date) => {\r\n                    if (!date) return null;\r\n                    const d = new Date(date);\r\n                    const year = d.getFullYear();\r\n                    const month = String(d.getMonth() + 1).padStart(2, '0');\r\n                    const day = String(d.getDate()).padStart(2, '0');\r\n                    return `${year}-${month}-${day}`;\r\n                };\r\n\r\n                const formattedAdjustment = {\r\n                    ...editAdjustment.value,\r\n                    date_start: formatDate(editAdjustment.value.date_start),\r\n                    date_end: formatDate(editAdjustment.value.date_end),\r\n                };\r\n\r\n                try {\r\n                    const authToken = localStorage.getItem('authToken');\r\n                    const response = await fetch(`/api/plans/rates/${editAdjustment.value.id}`, {  // Use adjustment ID for PUT request\r\n                        method: 'PUT',\r\n                        headers: {\r\n                            'Authorization': `Bearer ${authToken}`,\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        body: JSON.stringify(formattedAdjustment),\r\n                    });\r\n\r\n                    if (!response.ok) {\r\n                        throw new Error('Failed to update adjustment');\r\n                    }\r\n\r\n                    fetchRates(); // Refresh the rates\r\n                    showEditAdjustmentDialog.value = false; // Close the dialog\r\n                    editAdjustment.value = {\r\n                        hotel_id: null,\r\n                        plans_global_id: null,\r\n                        plans_hotel_id: null,\r\n                        adjustment_type: 'base_rate',\r\n                        adjustment_value: 0,\r\n                        condition_type: 'no_restriction',\r\n                        condition_value: [],\r\n                        date_start: null,\r\n                        date_end: null,\r\n                        id: null // Reset the ID after updating\r\n                    };\r\n\r\n                    toast.add({\r\n                        severity: 'success',\r\n                        summary: 'Success',\r\n                        detail: 'Rate updated successfully',\r\n                        life: 3000\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Error updating adjustment:', error);\r\n                    toast.add({\r\n                        severity: 'error',\r\n                        summary: 'Error',\r\n                        detail: 'An error occurred while updating the rate.',\r\n                        life: 3000\r\n                    });\r\n                }\r\n            };\r\n\r\n\r\n            // Computed             \r\n            const filteredBaseRateSum = computed(() => {\r\n                const filteredRates = filteredCurrentConditions.value.filter(rate => rate.adjustment_type === 'base_rate');\r\n                const sum = filteredRates.reduce((total, rate) => total + rate.adjustment_value, 0);\r\n                return sum > 0 ? sum : null;\r\n            });\r\n\r\n            const filteredFlatFeeSum = computed(() => {\r\n                const filteredRates = filteredCurrentConditions.value.filter(rate => rate.adjustment_type === 'flat_fee');\r\n                const sum = filteredRates.reduce((total, rate) => total + rate.adjustment_value, 0);\r\n                return sum > 0 ? sum : null;\r\n            });\r\n\r\n            const filteredPercentageSum = computed(() => {\r\n                const filteredRates = filteredCurrentConditions.value.filter(rate => rate.adjustment_type === 'percentage');\r\n                const sum = filteredRates.reduce((total, rate) => total + rate.adjustment_value, 0);\r\n                return sum > 0 ? sum : null;\r\n            });\r\n\r\n            const filteredCurrentConditions = computed(() => {\r\n                if (!selectedDate.value) return null;\r\n\r\n                // Normalized date\r\n                const selectedDateObj = new Date(selectedDate.value);\r\n                selectedDateObj.setHours(0, 0, 0, 0);\r\n\r\n                return allRates.value\r\n                    .filter(condition => {                    \r\n                        const startDate = new Date(condition.date_start);\r\n                        startDate.setHours(0, 0, 0, 0);                        \r\n                        const endDate = condition.date_end ? new Date(condition.date_end) : null;\r\n                        if (endDate) endDate.setHours(0, 0, 0, 0);                        \r\n                        return selectedDateObj >= startDate && (endDate ? selectedDateObj <= endDate : true);\r\n                    });\r\n            });\r\n\r\n            const filteredFutureConditions = computed(() => {\r\n                if (!selectedDate.value) return null;\r\n                \r\n                // Normalized date\r\n                const selectedDateObj = new Date(selectedDate.value);\r\n                selectedDateObj.setHours(0, 0, 0, 0);\r\n\r\n                return allRates.value\r\n                    .filter(condition => {\r\n                        const startDate = new Date(condition.date_start);\r\n                        startDate.setHours(0, 0, 0, 0);                        \r\n                        return startDate > selectedDateObj;\r\n                });\r\n\r\n                \r\n            });\r\n\r\n            const filteredPastConditions = computed(() => {\r\n                if (!selectedDate.value) return null;\r\n\r\n                // Normalized date\r\n                const selectedDateObj = new Date(selectedDate.value);\r\n                selectedDateObj.setHours(0, 0, 0, 0);\r\n\r\n                return allRates.value\r\n                    .filter(condition => {\r\n                        const startDate = new Date(condition.date_start);\r\n                        startDate.setHours(0, 0, 0, 0);\r\n                        const endDate = condition.date_end ? new Date(condition.date_end) : null;\r\n                        if (endDate) endDate.setHours(0, 0, 0, 0);\r\n                        return startDate < selectedDateObj && endDate != null;\r\n                    });\r\n            });\r\n\r\n            \r\n/*\r\n            const filteredAddonSum = computed(() => {\r\n                if (filteredCurrentAddons.length === 0) return null;\r\n                const filteredAddons = filteredCurrentAddons;\r\n                const sum = filteredAddons.reduce((total, addon) => {                    \r\n                    return total + (addon.price || 0); \r\n                }, 0);\r\n                return sum > 0 ? sum : null;\r\n            });\r\n            const filteredAddonCount = computed(() => {\r\n                const filteredAddons = filteredCurrentAddons;\r\n                return filteredAddons.length;\r\n            });\r\n*/\r\n            onMounted(fetchRates);\r\n\r\n            // Watcher\r\n            watch(() => editAdjustment.value.condition_value, (newValue) => {\r\n                \r\n                if (typeof newValue === 'string') {                    \r\n                    try {                        \r\n                        // Ensure the string is correctly formatted as a JSON array\r\n                        // Fix the string format to make it valid JSON\r\n                        let correctedValue = editAdjustment.value.condition_value\r\n                            .replace(/{/g, '[')  // Replace '{' with '['\r\n                            .replace(/}/g, ']')  // Replace '}' with ']'                            \r\n\r\n                        // Now attempt to parse the corrected string into an array\r\n                        const parsedValue = JSON.parse(correctedValue);                        \r\n\r\n                        selectedEditConditions.value = Array.isArray(parsedValue) ? parsedValue : [];\r\n                    } catch (error) {\r\n                        console.error('Error parsing condition_value:', error);\r\n                        selectedEditConditions.value = [];\r\n                    }\r\n                } else {\r\n                    // If condition_value is already an array, assign it directly\r\n                    selectedEditConditions.value = newValue || [];\r\n                }\r\n            }, { immediate: true });\r\n/*\r\n            watch(editAdjustment, (newVal, oldVal) => {                \r\n                console.log('editAdjustment changed:', newVal);                \r\n            }, { deep: true });\r\n            watch(newAdjustment, (newVal, oldVal) => {                \r\n                console.log('newAdjustment changed:', newVal);                \r\n            }, { deep: true });\r\n            watch(allRates, (newVal, oldVal) => {                \r\n                console.log('allRates changed:', newVal);                \r\n            }, { deep: true });\r\n*/\r\n            \r\n            return {\r\n                planId,\r\n                selectedDate,\r\n                allRates,                \r\n                showAdjustmentDialog,\r\n                showEditAdjustmentDialog,\r\n                selectedEditConditions,\r\n                newAdjustment,\r\n                editAdjustment,\r\n                adjustmentTypes,\r\n                conditionTypes,\r\n                conditionValues, \r\n                daysOfWeek,\r\n                months, \r\n                openAdjustmentDialog,    \r\n                openEditAdjustmentDialog,      \r\n                updateConditionValues,\r\n                updateEditConditionValues,\r\n                saveAdjustment, \r\n                updateAdjustment,               \r\n                filteredBaseRateSum,\r\n                filteredFlatFeeSum,\r\n                filteredPercentageSum,\r\n                filteredCurrentConditions,\r\n                filteredFutureConditions,\r\n                filteredPastConditions,  \r\n                //filteredAddonSum,   \r\n                //filteredAddonCount,                       \r\n            };\r\n        },\r\n        methods: {\r\n            formatNumber(value, style) {\r\n                if(style === 'currency'){\r\n                    return new Intl.NumberFormat('ja-JP', {\r\n                        style: 'currency',\r\n                        currency: 'JPY',\r\n                        minimumFractionDigits: 0,\r\n                        maximumFractionDigits: 0\r\n                    }).format(value);\r\n                }\r\n                if(style === 'decimal'){\r\n                    return new Intl.NumberFormat('ja-JP', {\r\n                        style: 'decimal',\r\n                        minimumFractionDigits: 2, \r\n                        maximumFractionDigits: 2\r\n                    }).format(value);\r\n                }                \r\n            },\r\n            handleFilteredAddons(addons) {\r\n                this.addons = addons;\r\n                console.log(\"Received filtered conditions in parent:\", addons);\r\n            }\r\n        },\r\n        computed: {\r\n            filteredAddonCount() {\r\n                // Count the number of addons\r\n                return this.addons.length;\r\n            },\r\n            filteredAddonSum() {\r\n                // Calculate the sum of the `price` field for all addons\r\n                return this.addons.reduce((sum, addon) => sum + (addon.price || 0), 0);\r\n            }\r\n        },\r\n    };\r\n</script>\r\n  \r\n<style scoped>\r\n\r\n</style>"],"names":["_sfc_main","Button","Dialog","FloatLabel","Select","InputNumber","InputText","DatePicker","Accordion","AccordionPanel","AccordionHeader","AccordionContent","DataTable","Column","props","emit","toast","useToast","planInfo","ref","newAddon","editAddon","allAddons","planAddons","showAddonDialog","showEditAddonDialog","openAddonDialog","fetchAllAddons","openEditAddonDialog","addonData","hotel_id","authToken","response","data","err","fetchPlanAddons","formatDate","date","d","yy","mm","dd","addon","sendFilteredConditions","error","addAddon","year","month","day","formattedAdjustment","updateAddon","onMounted","selectAddons","computed","value","filteredCurrentConditions","selectedDate","selectedDateObj","condition","startDate","endDate","filteredFutureConditions","filteredPastConditions","selectedAddon","style","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","$props","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_Button","$setup","_component_Accordion","_withCtx","_component_AccordionPanel","_component_AccordionHeader","_cache","_createTextVNode","_component_AccordionContent","_component_DataTable","_component_Column","slotProps","_toDisplayString","$options","$event","_component_Dialog","_component_FloatLabel","_component_Select","_component_InputNumber","_component_DatePicker","_component_InputText","_hoisted_16","ManagePlansAddons","MultiSelect","Badge","planId","allRates","showAdjustmentDialog","showEditAdjustmentDialog","selectedEditConditions","newAdjustment","editAdjustment","adjustmentTypes","conditionTypes","conditionValues","daysOfWeek","months","fetchRates","rate","openAdjustmentDialog","openEditAdjustmentDialog","adjustmentData","updateEditConditionValues","updateConditionValues","saveAdjustment","updateAdjustment","filteredBaseRateSum","sum","total","filteredFlatFeeSum","filteredPercentageSum","watch","newValue","correctedValue","parsedValue","addons","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_17","_hoisted_18","_hoisted_19","_component_Badge","_createCommentVNode","_hoisted_20","_hoisted_21","_hoisted_22","_Fragment","_renderList","index","_createBlock","_normalizeClass","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_component_ManagePlansAddons","_hoisted_42","_hoisted_43","_component_MultiSelect","_hoisted_51","_hoisted_52"],"mappings":"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"}