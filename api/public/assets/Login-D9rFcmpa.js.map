{"version":3,"file":"Login-D9rFcmpa.js","sources":["../../../frontend/node_modules/primevue/fluid/style/index.mjs","../../../frontend/node_modules/primevue/fluid/index.mjs","../../../frontend/src/pages/Login.vue"],"sourcesContent":["import BaseStyle from '@primevue/core/base/style';\n\nvar classes = {\n  root: 'p-fluid'\n};\nvar FluidStyle = BaseStyle.extend({\n  name: 'fluid',\n  classes: classes\n});\n\nexport { FluidStyle as default };\n//# sourceMappingURL=index.mjs.map\n","import BaseComponent from '@primevue/core/basecomponent';\nimport FluidStyle from 'primevue/fluid/style';\nimport { openBlock, createElementBlock, mergeProps, renderSlot } from 'vue';\n\nvar script$1 = {\n  name: 'BaseFluid',\n  \"extends\": BaseComponent,\n  style: FluidStyle,\n  provide: function provide() {\n    return {\n      $pcFluid: this,\n      $parentInstance: this\n    };\n  }\n};\n\nvar script = {\n  name: 'Fluid',\n  \"extends\": script$1,\n  inheritAttrs: false\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", mergeProps({\n    \"class\": _ctx.cx('root')\n  }, _ctx.ptmi('root')), [renderSlot(_ctx.$slots, \"default\")], 16);\n}\n\nscript.render = render;\n\nexport { script as default };\n//# sourceMappingURL=index.mjs.map\n","<template>\r\n  <div class=\"login-container flex justify-center items-center min-h-screen bg-gray-100 p-4\">\r\n    <Card class=\"w-full max-w-md\">\r\n      <template #title>\r\n        <h2 class=\"text-2xl font-bold mb-6 text-center\">Login</h2>\r\n      </template>\r\n      <template #content>\r\n        <form @submit.prevent=\"handleLogin\">\r\n          <div class=\"field mb-6\">   \r\n            <FloatLabel>\r\n              <InputText\r\n                id=\"email\"\r\n                v-model=\"email\"\r\n                class=\"w-full\"\r\n                :class=\"{'p-invalid': emailError}\"\r\n                required\r\n                @blur=\"validateEmail\"\r\n              />\r\n              <label for=\"email\">Email</label>\r\n            </FloatLabel>\r\n            <small v-if=\"emailError\" class=\"p-error\">{{ emailError }}</small>\r\n          </div>\r\n\r\n          <div class=\"field mb-6\">  \r\n            <FloatLabel>\r\n              <Password\r\n                id=\"password\"                \r\n                v-model=\"password\"\r\n                :feedback=\"false\"\r\n                toggleMask               \r\n                class=\"w-full\"\r\n                :class=\"{'p-invalid': passwordError}\"\r\n                type=\"password\"\r\n                required\r\n                fuild\r\n                @blur=\"validatePassword\"\r\n              />\r\n              <label for=\"password\">Password</label>\r\n            </FloatLabel>\r\n            <small v-if=\"passwordError\" class=\"p-error\">{{ passwordError }}</small>\r\n          </div>\r\n\r\n          <div class=\"mb-4\">\r\n            <Button\r\n              label=\"Login\"\r\n              icon=\"pi pi-sign-in\"\r\n              class=\"w-full\"\r\n              :loading=\"isLoading\"\r\n              type=\"submit\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"text-center\">\r\n            <router-link to=\"/forgot-password\" class=\"text-sm text-blue-600\">Forgot password?</router-link>\r\n          </div>\r\n        </form>\r\n      </template>\r\n    </Card>  \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport InputText from 'primevue/inputtext';\r\nimport Password from 'primevue/password';\r\nimport FloatLabel from 'primevue/floatlabel';\r\nimport Card from 'primevue/card';\r\nimport Button from 'primevue/button';\r\nimport Fluid from 'primevue/fluid';\r\n\r\nexport default {\r\n  components: {\r\n    InputText,\r\n    Password,\r\n    FloatLabel,\r\n    Card,\r\n    Button,\r\n    Fluid,\r\n  },\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      error: null,\r\n      isLoading: false,\r\n      emailError: null,\r\n      passwordError: null,\r\n    };\r\n  },\r\n  methods: {\r\n    validateEmail() {\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      this.emailError = !this.email \r\n        ? 'Email is required' \r\n        : !emailRegex.test(this.email) \r\n        ? 'Invalid email format' \r\n        : null;\r\n    },\r\n    validatePassword() {\r\n      this.passwordError = !this.password \r\n        ? 'Password is required' \r\n        : null;\r\n    },\r\n    async handleLogin() {\r\n      try {\r\n        // Validate email and password fields\r\n        this.validateEmail();\r\n        this.validatePassword();\r\n\r\n        // Stop if there are validation errors\r\n        if (this.emailError || this.passwordError) {\r\n          return;\r\n        }\r\n\r\n        // Reset errors and start loading\r\n        this.error = null;\r\n        this.isLoading = true;\r\n        \r\n        // Make the login request\r\n        const response = await this.$http.post('/api/auth/login', {\r\n          email: this.email,\r\n          password: this.password,\r\n        });\r\n        \r\n        // Extract and store the authentication token\r\n        const authToken = response.data.token;\r\n        localStorage.setItem('authToken', authToken);\r\n\r\n        // Redirect the user to the home page\r\n        this.$router.push('/');        \r\n      } catch (err) {\r\n        // Handle different kinds of errors\r\n        if (!err.response) {\r\n          // Network or server error\r\n          this.error = 'Network error. Please check your connection.';\r\n        } else if (err.response.status === 401) {\r\n          // Authentication errors\r\n          this.error = err.response.data?.error || 'Invalid credentials.';\r\n        } else {\r\n          // General error message\r\n          this.error = 'An unexpected error occurred. Please try again.';\r\n        }\r\n        \r\n        // Handle different kinds of errors\r\n        if (!err.response) {\r\n          // Network or server error\r\n          this.error = 'Network error. Please check your connection.';\r\n        } else if (err.response.status === 401) {\r\n          // Authentication errors\r\n          this.error = err.response.data?.error || 'Invalid credentials.';\r\n        } else {\r\n          // General error message\r\n          this.error = 'An unexpected error occurred. Please try again.';\r\n        }\r\n        \r\n        // Set specific field errors based on backend response\r\n        if (this.error.includes('User not found')) {\r\n          this.emailError = this.error;\r\n        } else if (this.error.includes('Incorrect password')) {\r\n          this.passwordError = this.error;\r\n        }\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"],"names":["classes","FluidStyle","BaseStyle","script$1","BaseComponent","script","render","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","mergeProps","renderSlot","_sfc_main","InputText","Password","FloatLabel","Card","Button","Fluid","emailRegex","authToken","err","_a","_b","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_6","_hoisted_7","_openBlock","_createElementBlock","_createVNode","_component_Card","_createElementVNode","_withModifiers","args","_component_FloatLabel","_withCtx","_component_InputText","$event","_normalizeClass","_hoisted_3","_toDisplayString","_createCommentVNode","_component_Password","_hoisted_5","_component_Button","_component_router_link","_createTextVNode"],"mappings":"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","x_google_ignoreList":[0,1]}