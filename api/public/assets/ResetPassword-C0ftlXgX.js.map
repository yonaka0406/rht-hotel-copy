{"version":3,"file":"ResetPassword-C0ftlXgX.js","sources":["../../../frontend/src/pages/ResetPassword.vue"],"sourcesContent":["<template>\r\n    <div class=\"reset-password-container flex justify-center items-center min-h-screen bg-gray-100 p-4\">\r\n      <Card class=\"w-full max-w-md\">\r\n        <template #title>\r\n          <h2 class=\"text-2xl font-bold mb-6 text-center\">Reset Password</h2>\r\n        </template>\r\n        <template #content>\r\n          <form @submit.prevent=\"handleResetPassword\">\r\n            <div class=\"field mb-6\">\r\n              <FloatLabel>\r\n                <Password\r\n                  id=\"password\"\r\n                  v-model=\"password\"\r\n                  toggleMask\r\n                  feedback\r\n                  promptLabel=\"Choose a password\"\r\n                  weakLabel=\"Too simple\"\r\n                  mediumLabel=\"Average complexity\"\r\n                  strongLabel=\"Complex password\"\r\n                  class=\"w-full\"\r\n                  :class=\"{'p-invalid': passwordError}\"\r\n                  type=\"password\"\r\n                  required\r\n                  fluid \r\n                  @blur=\"validatePassword()\"\r\n                >\r\n                    <template #header>\r\n                        <div class=\"font-semibold text-xm mb-4\">Pick a password</div>\r\n                    </template>\r\n                    <template #footer>\r\n                        <Divider />\r\n                        <ul class=\"pl-2 ml-2 my-0 leading-normal\">\r\n                            <li>At least one lowercase</li>\r\n                            <li>At least one uppercase</li>\r\n                            <li>At least one numeric</li>\r\n                            <li>Minimum 8 characters</li>\r\n                        </ul>\r\n                    </template>\r\n                </Password>\r\n                <label for=\"password\">New Password</label>\r\n              </FloatLabel>\r\n              <small v-if=\"passwordError\" class=\"p-error\">{{ passwordError }}</small>\r\n            </div>\r\n  \r\n            <div class=\"field mb-6\">\r\n              <FloatLabel>                \r\n                <Password\r\n                    id=\"confirmPassword\"\r\n                    v-model=\"confirmPassword\"                    \r\n                    toggleMask\r\n                    class=\"w-full\"\r\n                    :class=\"{'p-invalid': confirmPasswordError}\"\r\n                    type=\"password\"\r\n                    required\r\n                    fluid \r\n                    @blur=\"validatePassword()\"\r\n                >\r\n                </Password>\r\n                <label for=\"confirmPassword\">Confirm Password</label>\r\n              </FloatLabel>\r\n              <small v-if=\"confirmPasswordError\" class=\"p-error\">{{ confirmPasswordError }}</small>\r\n            </div>\r\n  \r\n            <div class=\"mb-4\">\r\n              <Button\r\n                label=\"Reset Password\"\r\n                icon=\"pi pi-check\"\r\n                class=\"w-full\"\r\n                :loading=\"isLoading\"\r\n                type=\"submit\"\r\n              />\r\n            </div>\r\n  \r\n            <div v-if=\"errorMessage\" class=\"text-center text-red-600\">\r\n              {{ errorMessage }}\r\n            </div>\r\n            <div v-if=\"successMessage\" class=\"text-center text-green-600\">\r\n              {{ successMessage }}\r\n            </div>\r\n          </form>\r\n        </template>\r\n      </Card>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n    import { ref } from \"vue\"; \r\n    import { useToast } from 'primevue/usetoast';\r\n    import { useConfirm } from \"primevue/useconfirm\";\r\n\r\n    import InputText from 'primevue/inputtext';\r\n    import Password from 'primevue/password';\r\n    import FloatLabel from 'primevue/floatlabel';\r\n    import Card from 'primevue/card';\r\n    import Button from 'primevue/button';\r\n    import Divider from 'primevue/divider';\r\n\r\n    export default {\r\n        components: {\r\n            InputText,\r\n            Password,\r\n            FloatLabel,\r\n            Card,\r\n            Button,\r\n            Divider,\r\n        },\r\n        data() {\r\n        return {\r\n            password: '',\r\n            confirmPassword: '',\r\n            passwordError: null,\r\n            confirmPasswordError: null,\r\n            isLoading: false,\r\n            successMessage: null,\r\n            errorMessage: null,\r\n        };\r\n        },\r\n        setup (){\r\n            const toast = useToast();\r\n            const confirm = useConfirm();\r\n\r\n        },\r\n        methods: {\r\n            validatePassword() {   \r\n                const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$/;\r\n\r\n                if (!this.password) {\r\n                    this.passwordError = \"Password is required.\";\r\n                } else if (!passwordRegex.test(this.password)) {\r\n                    this.passwordError =\r\n                        \"Password must have at least 8 characters, one uppercase letter, one lowercase letter, and one number.\";\r\n                } else {\r\n                    this.passwordError = \"\";\r\n                }\r\n\r\n                this.confirmPasswordError = this.confirmPassword !== this.password\r\n                    ? 'Passwords do not match'\r\n                    : null;\r\n            },\r\n            async handleResetPassword() {\r\n                this.validatePassword();\r\n                if (this.passwordError || this.confirmPasswordError) return;\r\n        \r\n                this.isLoading = true;\r\n        \r\n                try {\r\n                    const urlParams = new URLSearchParams(window.location.search);\r\n                    const token = urlParams.get('token');\r\n                    \r\n                    const response = await this.$http.post('/api/auth/reset-password', { token, password: this.password });\r\n                    this.successMessage = response.data.message;\r\n                } catch (error) {\r\n                this.errorMessage = 'Error resetting password. Please try again.';\r\n                } finally {\r\n                this.isLoading = false;\r\n                }\r\n            },\r\n        },\r\n    };\r\n  </script>\r\n  \r\n  <style scoped>\r\n\r\n  </style>\r\n  "],"names":["_sfc_main","InputText","Password","FloatLabel","Card","Button","Divider","useToast","useConfirm","passwordRegex","token","response","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_6","_openBlock","_createElementBlock","_createVNode","_component_Card","_cache","_createElementVNode","_withModifiers","$options","args","_component_FloatLabel","_withCtx","_component_Password","$data","$event","_normalizeClass","_component_Divider","_hoisted_3","_toDisplayString","_createCommentVNode","_hoisted_5","_component_Button","_hoisted_7","_hoisted_8"],"mappings":"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"}