{"version":3,"file":"useClientStore-B-tNQOLN.js","sources":["../../../frontend/src/composables/useClientStore.js"],"sourcesContent":["import { ref, watch } from 'vue';\r\n\r\nconst clients = ref([]);\r\nconst selectedClient = ref(null);\r\n\r\nexport function useClientStore() {\r\n    // Fetch the list of clients\r\n    const fetchClients = async () => {\r\n        try {\r\n            const authToken = localStorage.getItem('authToken');\r\n            const response = await fetch('/api/client-list', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': `Bearer ${authToken}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n            \r\n            clients.value = await response.json();\r\n\r\n        } catch (error) {\r\n            console.error('Failed to fetch hotels', error);\r\n        }\r\n    };\r\n\r\n    // Fetch data for the selected client\r\n    const fetchClient = async (client_id) => {\r\n        try {\r\n            const authToken = localStorage.getItem('authToken');\r\n            const response = await fetch(`/api/client/${client_id}`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': `Bearer ${authToken}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n            \r\n            selectedClient.value = await response.json();\r\n            \r\n        } catch (error) {\r\n            console.error('Failed to fetch hotel rooms', error);\r\n        }\r\n    };\r\n\r\n    return {\r\n        clients,\r\n        selectedClient,\r\n        fetchClients,\r\n        fetchClient,\r\n    };\r\n}"],"names":["clients","ref","selectedClient","useClientStore","authToken","response","error","client_id"],"mappings":"wCAEA,MAAMA,EAAUC,EAAI,CAAA,CAAE,EAChBC,EAAiBD,EAAI,IAAI,EAExB,SAASE,GAAiB,CAuC7B,MAAO,CACH,QAAAH,EACA,eAAAE,EACA,aAxCiB,SAAY,CAC7B,GAAI,CACA,MAAME,EAAY,aAAa,QAAQ,WAAW,EAC5CC,EAAW,MAAM,MAAM,mBAAoB,CAC7C,OAAQ,MACR,QAAS,CACL,cAAiB,UAAUD,CAAS,GACpC,eAAgB,kBACnB,CACjB,CAAa,EAEDJ,EAAQ,MAAQ,MAAMK,EAAS,KAAI,CAEtC,OAAQC,EAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,CAChD,CACT,EAyBQ,YAtBgB,MAAOC,GAAc,CACrC,GAAI,CACA,MAAMH,EAAY,aAAa,QAAQ,WAAW,EAC5CC,EAAW,MAAM,MAAM,eAAeE,CAAS,GAAI,CACrD,OAAQ,MACR,QAAS,CACL,cAAiB,UAAUH,CAAS,GACpC,eAAgB,kBACnB,CACjB,CAAa,EAEDF,EAAe,MAAQ,MAAMG,EAAS,KAAI,CAE7C,OAAQC,EAAO,CACZ,QAAQ,MAAM,8BAA+BA,CAAK,CACrD,CACT,CAOA,CACA"}